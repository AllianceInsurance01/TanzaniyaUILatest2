<div class="col-md-12 col-lg-12 col-12 mt-2 p-0">
    <div class="maan-grid customer-grid maan-grid-column-1 p-0  mt-3">
        <div class="maan-grid-item customFlow paddingbig"  *ngIf="coverSection">
            
                <div class="maan-grid-item-title p-0" style="margin: 0px !important;top:0rem;bottom: 0rem !important;">
                    <div class="d-flex justify-content-between">
                        <div>
                            <span class="mx-1">
                                <i class="fas fa-book mx-1"></i>
                            </span> <span class="spancommon">Coverage Details</span>
                        </div>
                        <div class="mt-2 ml-3">
                            <ng-container *ngIf="ClausesData.length!=0">
                                <button class="btn clausebutton btn-sm" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ClausesStatuss()">Clauses</button>&nbsp;
                            </ng-container>
                            <ng-container *ngIf="ExclusionData.length!=0">
                                <button class="btn clausebutton btn-sm" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ExclusioStatuss()">Exclusion</button>&nbsp;
                            </ng-container>
                           
                            <ng-container *ngIf="WarrantyData.length!=0">
                                <button class="btn clausebutton btn-sm" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="WarrantyStatuss()">Warranties</button>
                            </ng-container>
                           
                        </div>
                    </div>
                </div>
                <div class="maan-grid-item-body">
                    <div class="row mb-3">
                        <div class="col-12 col-xl-12 col-lg-12" *ngIf="!showGrid">
                            <ul id="accordion" class="accordion" style="margin-left: 12px !important;">
                                <li *ngFor="let menu of vehicleDetailsList; let i = index" [class.active]="menu.Collapse" class="li-data">
                                    <div class="menu">
                                        <div>
                                            <i class="fa fa-chevron-down" style="float: right;color:navy;font-size: 1rem" (click)="toggle(i)"></i>
                                        </div>
                                        <div class="display1">
                                            <ng-container *ngIf="productId=='5'">
                                                <span class="spancommon" style="color:navy;font-size: 1rem;"> {{menu.RiskDetails.PolicyTypeDesc}}&nbsp;|&nbsp;{{
                                                    menu.RiskDetails.Vehiclemake }} &nbsp;|&nbsp; {{ menu.RiskDetails.Vehcilemodel
                                                    }} &nbsp;|&nbsp; {{ menu.RiskDetails.Chassisnumber }} | &nbsp;</span>
                    
                                                <!-- <ng-container *ngIf="menu.Status!='D'">
                                                    <button class="fa fa-eye" style="border: none;border-radius: 100%; padding-top: 6px;padding-bottom: 6px;"  (click)="htmlcard(menu,mymodal)"></button>
                                                    <span style="padding-left:10px;">|</span>&nbsp;
                                                    <button class="fas fa-edit"  style="border: none;border-radius: 100%;padding-top: 6px; padding-bottom: 6px;" (click)="editcard(menu,mymodalEdit)"></button>&nbsp;
                                                </ng-container> -->
                                                <!-- <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ClausesStatus(i,menu)">Clauses</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ExclusioStatus(i,menu)">Exclusion</button>&nbsp;
                                                <button class="btn clausebutton btn-sm " *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="WarrantyStatus(i,menu)">Warranties</button> -->
                                            </ng-container>
                                            <ng-container *ngIf="productId=='4'">
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='1'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Kids&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='2'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Adults&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='3'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Seniors&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='4'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Super
                                                        Seniors&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='5'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Grand
                                                        Seniors&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <span class="spancommon" style="color:navy;font-size: 1rem;"> &nbsp;|&nbsp;
                                                    {{menu.RiskDetails.DestinationCountry}}
                                                    &nbsp;|&nbsp; {{ menu.RiskDetails.TravelStartDate }} &nbsp;~&nbsp; {{
                                                    menu.RiskDetails.TravelEndDate }}</span>
                                                <!-- <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ClausesStatus(i,menu)">Clauses</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ExclusioStatus(i,menu)">Exclusion</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="WarrantyStatus(i,menu)">Warranties</button> -->
                                            </ng-container>
                                            <ng-container *ngIf="productId=='3' || productId=='19' || productId=='14' || productId=='32'">
                                                
                                                 <span class="spancommon" style="color:navy;font-size: 1rem;">
                                                    <ng-container *ngIf="enableSections">
                                                        <mat-checkbox class="example-margin text-center"  [checked]="checkSelectedSections(menu)" [disabled]="checkSectionDisable(menu)" (change)="onSelectSections($event.checked,menu)">
                                                        </mat-checkbox> 
                                                    </ng-container> 
                                                    {{menu.SectionName}}
                                                </span>
                                                <!-- <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ClausesStatus(i,menu)">Clauses</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ExclusioStatus(i,menu)">Exclusion</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="WarrantyStatus(i,menu)">Warranties</button> -->
                                            </ng-container>
                                            <ng-container *ngIf="productId!='3' && productId!='4' && productId!='5' && productId!='19' && productId!='14' && productId!='32'">
                                                <span class="spancommon" style="color:navy;font-size: 1rem;"> {{productName}}
                                                </span>
                                                <!-- <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;" (click)="ClausesStatus(i,menu)">Clauses</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" (click)="ExclusioStatus(i,menu)">Exclusion</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" (click)="WarrantyStatus(i,menu)">Warranties</button> -->
                                            </ng-container>
                                            <!-- <ng-container *ngIf="productId!='3' && productId!='4' && productId!='5' && productId!='19'">
                                                <span class="spancommon" style="color:navy;font-size: 1rem;">
                                                    {{menu.RiskDetails.CustomerName}} &nbsp;|&nbsp; {{
                                                    menu.RiskDetails.SalaryPerAnnum | number : '1.2-2'}}
                                                    ({{currencyCode}})&nbsp;/Year &nbsp;~&nbsp; {{ menu.RiskDetails.BuildingAddress
                                                    }}</span>
                    
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ClausesStatus(i,menu)">Clauses</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ExclusioStatus(i,menu)">Exclusion</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="WarrantyStatus(i,menu)">Warranties</button>
                                            </ng-container> -->
                                            <ng-container *ngIf="menu.ReferralList.length!=0">
                                                <span class="spancommon" style="color:navy;padding:10px !important;border-radius:10px;font-size: 1rem;background-color: #fd7e14!important;">Refferal</span>
                                            </ng-container>
                                            <ng-container>
                                                <span class="spancommon" style="color:navy;padding:10px !important;border-radius:10px;font-size: 1rem;background-color: #fd7e14!important;" *ngIf="menu.Status=='D' && productId=='5'" >Removed Vehicle</span>
                                                <span class="spancommon" style="color:navy;padding:10px !important;border-radius:10px;font-size: 1rem;background-color: #fd7e14!important;" *ngIf="endorsementSection && endorsementId==846 && menu.Status=='D'" >Removed Occupation</span>
                                            </ng-container>
                                        </div>
                                        <div class="display2">
                                            <ng-container *ngIf="productId=='5'">
                                                <span class="spancommon" style="color:navy;font-size: 1rem;"> {{menu.RiskDetails.PolicyTypeDesc}}&nbsp;|&nbsp;{{
                                                    menu.RiskDetails.Vehiclemake }} &nbsp;|&nbsp; {{ menu.RiskDetails.Vehcilemodel
                                                    }} &nbsp;|&nbsp; {{ menu.RiskDetails.Chassisnumber }} | &nbsp;</span>
                    
                                                <ng-container *ngIf="menu.Status!='D'">
                                                    <button class="fa fa-eye" style="border: none;border-radius: 100%; padding-top: 6px;padding-bottom: 6px;"  (click)="htmlcard(menu,mymodal)"></button>
                                                    <span style="padding-left:10px;">|</span>&nbsp;
                                                    <button class="fas fa-edit"  style="border: none;border-radius: 100%;padding-top: 6px; padding-bottom: 6px;" (click)="editcard(menu,mymodalEdit)"></button>&nbsp;
                                                </ng-container>
                                                <!-- <div style="text-align: center;margin-left: -50px;">
                                                    <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ClausesStatus(i,menu)">C</button>&nbsp;
                                                    <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ExclusioStatus(i,menu)">E</button>&nbsp;
                                                    <button class="btn clausebutton btn-sm " *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="WarrantyStatus(i,menu)">W</button>
                                                </div> -->
                                                
                                            </ng-container>
                                            <ng-container *ngIf="productId=='4'">
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='1'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Kids&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='2'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Adults&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='3'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Seniors&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='4'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Super
                                                        Seniors&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <ng-container *ngIf="menu.RiskDetails.TravelId=='5'">
                                                    <span class="spancommon" style="color:navy;font-size: 1rem;">Grand
                                                        Seniors&nbsp;({{menu.RiskDetails.TotalPassengers}})</span>
                    
                                                </ng-container>
                                                <span class="spancommon" style="color:navy;font-size: 1rem;"> &nbsp;|&nbsp;
                                                    {{menu.RiskDetails.DestinationCountry}}
                                                    &nbsp;|&nbsp; {{ menu.RiskDetails.TravelStartDate }} &nbsp;~&nbsp; {{
                                                    menu.RiskDetails.TravelEndDate }}</span>
                                                <!-- <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ClausesStatus(i,menu)">Clauses</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ExclusioStatus(i,menu)">Exclusion</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="WarrantyStatus(i,menu)">Warranties</button> -->
                                            </ng-container>
                                            <ng-container *ngIf="productId=='3' || productId=='19' || productId=='14' || productId=='32'">
                                                <span class="spancommon" style="color:navy;font-size: 1rem;"> {{menu.SectionName}}
                                                </span>
                                                <!-- <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ClausesStatus(i,menu)">Clauses</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ExclusioStatus(i,menu)">Exclusion</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="WarrantyStatus(i,menu)">Warranties</button> -->
                                            </ng-container>
                                            <ng-container *ngIf="productId!='3' && productId!='4' && productId!='5' && productId!='19' && productId!='14' && productId!='32'">
                                                <span class="spancommon" style="color:navy;font-size: 1rem;"> {{productName}}
                                                </span>
                                                <!-- <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;" (click)="ClausesStatus(i,menu)">Clauses</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" (click)="ExclusioStatus(i,menu)">Exclusion</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" (click)="WarrantyStatus(i,menu)">Warranties</button> -->
                                            </ng-container>
                                            <!-- <ng-container *ngIf="productId!='3' && productId!='4' && productId!='5' && productId!='19'">
                                                <span class="spancommon" style="color:navy;font-size: 1rem;">
                                                    {{menu.RiskDetails.CustomerName}} &nbsp;|&nbsp; {{
                                                    menu.RiskDetails.SalaryPerAnnum | number : '1.2-2'}}
                                                    ({{currencyCode}})&nbsp;/Year &nbsp;~&nbsp; {{ menu.RiskDetails.BuildingAddress
                                                    }}</span>
                    
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="margin-left: 10px;font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ClausesStatus(i,menu)">Clauses</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="ExclusioStatus(i,menu)">Exclusion</button>&nbsp;
                                                <button class="btn clausebutton btn-sm" *ngIf="menu.Status!='D'" style="font-family: var(--our-font-family-new)!important;font-weight: 600;" (click)="WarrantyStatus(i,menu)">Warranties</button>
                                            </ng-container> -->
                                            <ng-container *ngIf="menu.ReferralList.length!=0">
                                                <span class="spancommon" style="color:navy;padding:10px !important;border-radius:10px;font-size: 1rem;background-color: #fd7e14!important;">Refferal</span>
                                            </ng-container>
                                            <ng-container>
                                                <span class="spancommon" style="color:navy;padding:10px !important;border-radius:10px;font-size: 1rem;background-color: #fd7e14!important;" *ngIf="menu.Status=='D'" >Removed Vehicle</span>
                                            </ng-container>
                                        </div>
                
                                        <div>
                                        </div>
                                        <!--for Edit -->
                                        <div>
                                        </div>
                
                                        <div class="submenu " #submenu  *ngIf="CoveList">
                                            <ng-container *ngIf="menu.ReferralList.length!=0">
                                                <div class="row">
                                                    <div class="col-md-8 col-lg-8 col-xl-8 referal_remark">
                                                        <div>
                                                            <b class="text-danger referal_data">Referral Remarks</b><br>
                                                        </div>
                                                        <div class="mt-2">
                                                            <ul class="b listrefereal" *ngFor="let doc of menu.ReferralList">
                                                                <li class="p-0 li-custom"><i class="fa-solid fa-circle-check" style="position: relative; right: 1rem;"></i><span class="spancommon" style="font-size: 0.9rem;">{{doc}}</span></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <!-- <div class="input-form-box mt-2 mr-2" id="gridstyle">
                                                <input type="text" class="input-form-control with-icon" (keyup)="applyFilter($event.target.value)" placeholder="Filter">
                                                <span class="input-form-icon">
                                                    <i class="fas fa-filter"></i>
                                                </span>
                                            </div> -->
                                            <div class="col-md-12 col-lg-12 p-3 display1" style="overflow-x: scroll !important;"><!--style="overflow-x: scroll !important;"-->
                                                <table mat-table [dataSource]="menu.CoverList" class="outerTable" multiTemplateDataRows matSort >
                                                    <ng-container matColumnDef="header-row-first-group">
                                                        <th mat-header-cell *matHeaderCellDef class="outerHead mat-header-cell" [style.text-align]="center" [attr.colspan]="5">
                
                                                        </th>
                                                    </ng-container>
                                                    <ng-container matColumnDef="header-row-second-group">
                                                        <th mat-header-cell *matHeaderCellDef [attr.colspan]="6" class="text-center outerHead mat-header-cell">Premium </th>
                                                    </ng-container>
                
                                                    <ng-container *ngFor="let col of columnHeader; let i = index;" [matColumnDef]="col.key" [sticky]="i===0" [stickyEnd]="i === 10">
                
                                                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-center outerHead mat-header-cell" style="white-space: normal !important;">&nbsp;
                                                            <ng-container *ngIf="columnHeader[i]['display']=='Sum Insured' || columnHeader[i]['display']=='Minimum' || columnHeader[i]['display']=='After Discount' || columnHeader[i]['display']=='Included Tax'">
                                                                {{ columnHeader[i]["display"] }}&nbsp;({{currencyCode}})
                                                            </ng-container>
                                                            <ng-container *ngIf="columnHeader[i]['display']=='Rate'">
                                                                {{ columnHeader[i]["display"] }}&nbsp;(%)
                                                            </ng-container>
                                                            <ng-container *ngIf="columnHeader[i]['display']=='Excess Percent'">
                                                                Excess&nbsp;(%)
                                                            </ng-container>
                                                            <ng-container *ngIf="columnHeader[i]['display']=='Excess Amount'">
                                                                Excess<br>({{currencyCode}})
                                                            </ng-container>
                                                            <ng-container *ngIf="columnHeader[i]['display']!='Sum Insured' && columnHeader[i]['display']!='Referral' && columnHeader[i]['display']!='Excess Amount' && columnHeader[i]['display']!='Excess Percent' && columnHeader[i]['display']!='Rate' && columnHeader[i]['display']!='Minimum' && columnHeader[i]['display']!='After Discount' && columnHeader[i]['display']!='Included Tax'"
                                                                >
                                                                {{ columnHeader[i]["display"] }}
                                                            </ng-container>
                                                        </th>
                                                        <td mat-cell *matCellDef="let element" class="customCell" [ngClass]="{'customRowBg': col.key=='CoverName' && element?.isReferal === 'Y'}">
                                                            <ng-container *ngIf="!col.config; else hasConfig">
                                                                <ng-container *ngIf="col.key=='Status'">
                                                                    <span *ngIf="element[col.key]=='Y'">Active</span>
                                                                    <span *ngIf="element[col.key]!='Y'">DeActive</span>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.key=='PremiumAfterDiscount'">
                
                                                                    <div class="d-flex justify-content-between">
                                                                        <div>
                                                                            <ng-container *ngIf="(element.Discounts!=null && element.Discounts.length!=0) || (element.Loadings!=null && element.Loadings.length!=0)">
                                                                                <ng-template #discountCard>
                                                                                    <div class="popover-card customTemplate shawdowcustom ">
                                                                                        <div class="card-header" status="warning">
                                                                                            <span class="spancommon span_font_size">Premium
                                                                                                Details!</span>
                
                                                                                        </div>
                                                                                        <div class="card-body p-0">
                                                                                            <ul class="list-group">
                                                                                                <li class="list-group-item list-seperate">
                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">Before
                                                                                                            Discount</span>
                
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">{{beforeDiscount}}</span>
                                                                                                    </div>
                                                                                                    <!-- </div> -->
                                                                                                </li>
                                                                                                <ng-container *ngIf="discountList.length!=0">
                                                                                                    <li class="list-group-item list-seperate">
                                                                                                        <!-- <div class="d-flex justify-content-between"> -->
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">Discounts</span>
                                                                                                        </div>
                                                                                                        <div>
                                                                                                        </div>
                                                                                                        <!-- </div> -->
                                                                                                    </li>
                                                                                                    <li class="list-group-item list-seperate" *ngFor="let discount of discountList">
                                                                                                        <!-- <div class="d-flex justify-content-between"> -->
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">{{discount.DiscountDesc}}</span>
                
                                                                                                        </div>
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">{{discount.DiscountAmount}}</span>
                
                                                                                                        </div>
                                                                                                        <!-- </div> -->
                                                                                                    </li>
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="loadingList.length!=0">
                                                                                                    <li class="list-group-item list-seperate">
                                                                                                        <!-- <div class="d-flex justify-content-between"> -->
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">Loading</span>
                
                                                                                                        </div>
                                                                                                        <div>
                
                                                                                                        </div>
                                                                                                        <!-- </div> -->
                                                                                                    </li>
                                                                                                    <li class="list-group-item list-seperate" *ngFor="let loading of loadingList">
                                                                                                        <!-- <div class="d-flex justify-content-between"> -->
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">{{loading.LoadingDesc}}</span>
                
                                                                                                        </div>
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">{{loading.LoadingAmount}}</span>
                
                                                                                                        </div>
                                                                                                        <!-- </div> -->
                                                                                                    </li>
                                                                                                </ng-container>
                                                                                                <li class="list-group-item list-seperate">
                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">Total
                                                                                                            Premium</span>
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">{{afterDiscount}}</span>
                
                                                                                                    </div>
                                                                                                    <!-- </div> -->
                                                                                                </li>
                                                                                            </ul>
                                                                                        </div>
                                                                                    </div>
                                                                                </ng-template>
                                                                                &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" [ngbPopover]="discountCard" (click)="setDiscountDetails(element)">?
                                                                                </button>
                                                                            </ng-container>
                                                                        </div>
                                                                        <div>
                                                                            <ng-container *ngIf="element[col.key]==null || element[col.key]==0">
                                                                                0
                                                                            </ng-container>
                                                                            <ng-container *ngIf="element[col.key]!=null || element[col.key]!=0">
                                                                                <span>{{ element[col.key]|commaseparator }}
                                                                                </span>
                                                                            </ng-container>
                                                                        </div>
                                                                    </div>
                                                                </ng-container>
                
                                                                <ng-container *ngIf="col.key=='PremiumIncludedTax'">
                                                                    <ng-container *ngIf="(element.Endorsements!=null)">
                                                                        <ng-container *ngIf="(element.Endorsements.length!=0)">
                                                                            <ng-template #endorseCard>
                                                                                <div class="popover-card customTemplate shawdowcustom ">
                                                                                    <div class="card-header" status="warning">
                                                                                        <div class="d-flex justify-content-between">
                                                                                            <div>
                                                                                                Endorsement Details!
                                                                                            </div>
                                                                                            <div>
                                                                                                No.Of.Endorsement ~ {{endorsementDetails?.EndtCount}}
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="card-body p-0">
                
                                                                                        <div class="mt-1" style="background-color: #acbf8e;border:1px solid grey;padding: 4px;border-radius: 5px;">
                                                                                            <!-- <span class="spancommon span_font_size"><b>Description</b>&nbsp;:&nbsp;</span> -->
                                                                                            
                                                                                            <span class="spancommon span_font_size">{{endorsementDetails?.EndorsementDesc}}</span>
                                                                                        </div>
                                                                                        <ul class="list-group">
                
                                                                                            <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Current Premium</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="element.PremiumExcluedTax==null || element.PremiumExcluedTax==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="element.PremiumExcluedTax!=null && element.PremiumExcluedTax!=0"><b>{{element.PremiumExcluedTax | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li>
                                                                                            <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Previous Premium</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumAfterDiscount==null || endorsementDetails?.PremiumAfterDiscount==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumAfterDiscount!=null && endorsementDetails?.PremiumAfterDiscount!=0"><b>{{endorsementDetails?.PremiumAfterDiscount | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li>
                                                                                            <li class="list-group-item list-seperate" >
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="coverModificationYN=='N'">Difference Premium</ng-container>
                                                                                                        <ng-container *ngIf="coverModificationYN=='Y'">Removal Premium</ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        ProRata({{endorsementDetails?.ProRata}}%)
                                                                                                    </span>
                                                                                                </div>
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumExcludedTax==null || endorsementDetails?.PremiumExcludedTax==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumExcludedTax!=null && endorsementDetails?.PremiumExcludedTax!=0"><b>{{endorsementDetails?.PremiumExcludedTax | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li>
                                                                                            <ng-container *ngIf="endorsementDetails?.EndorsementFees!=null">
                                                                                                <li class="list-group-item list-seperate" *ngFor="let tax of endorsementDetails?.EndorsementFees">
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size">{{tax.TaxDesc}}</span>
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">({{tax.TaxRate}}&nbsp;%)</span>
                                                                                                    </div>
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size">
                                                                                                            <ng-container *ngIf="tax?.TaxAmount==null || tax?.TaxAmount==0"><b>0</b></ng-container>
                                                                                                                <ng-container *ngIf="tax?.TaxAmount!=null && tax?.TaxAmount!=0"><b>{{tax?.TaxAmount | commaseparator}}</b></ng-container>
                                                                                                        </span>
                                                                                                    </div>
                                                                                                </li>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="endorsementDetails?.Taxes!=null">
                                                                                                <li class="list-group-item list-seperate" >
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size"><u>Taxes</u></span>
                                                                                                    </div>
                                                                                                    <div >
                
                                                                                                    </div>
                                                                                                </li>
                                                                                                <li class="list-group-item list-seperate" *ngFor="let tax of endorsementDetails?.Taxes">
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size">{{tax.TaxDesc}}</span>
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">({{tax.TaxRate}}&nbsp;%)</span>
                                                                                                    </div>
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size">
                                                                                                            <ng-container *ngIf="tax?.TaxAmount==null || tax?.TaxAmount==0"><b>0</b></ng-container>
                                                                                                                <ng-container *ngIf="tax?.TaxAmount!=null && tax?.TaxAmount!=0"><b>{{tax?.TaxAmount | commaseparator}}</b></ng-container>
                                                                                                        </span>
                                                                                                    </div>
                                                                                                </li>
                                                                                            </ng-container>
                                                                                            <li class="list-group-item list-seperate" >
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">Total Premium</span>
                                                                                                </div>
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="(element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax==null || element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax==0) "><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="(element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax!=null && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax!=0)"><b>{{element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li>
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Maximum Endorsement Amount</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.MaxEndorsementAmount==null || endorsementDetails?.MaxEndorsementAmount==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.MaxEndorsementAmount!=null && endorsementDetails?.MaxEndorsementAmount!=0"><b>{{endorsementDetails?.MaxEndorsementAmount | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Premium Before Discount</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumBeforeDiscountLC==null || endorsementDetails?.PremiumBeforeDiscountLC==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumBeforeDiscountLC!=null && endorsementDetails?.PremiumBeforeDiscountLC!=0"><b>{{endorsementDetails?.PremiumBeforeDiscountLC | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Premium After Discount</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumAfterDiscount==null || endorsementDetails?.PremiumAfterDiscount==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumAfterDiscount!=null && endorsementDetails?.PremiumAfterDiscount!=0"><b>{{endorsementDetails?.PremiumAfterDiscount | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Premium Inculded Tax</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumIncludedTaxLC==null || endorsementDetails?.PremiumIncludedTaxLC==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumIncludedTaxLC!=null && endorsementDetails?.PremiumIncludedTaxLC!=0"><b>{{endorsementDetails?.PremiumIncludedTaxLC | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Premium Excluded Tax</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumExcludedTaxLC==null || endorsementDetails?.PremiumExcludedTaxLC==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumExcludedTaxLC!=null && endorsementDetails?.PremiumExcludedTaxLC!=0"><b>{{endorsementDetails?.PremiumExcludedTaxLC | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                        </ul>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-template>
                                                                            &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle-alt" data-toggle="tooltip" data-placement="top" title="Endorsement" [ngbPopover]="endorseCard" placement="left" (click)="onGetEndorsement(element)"><i class="fa fa-bookmark" aria-hidden="true"></i></button>
                                                                            <ng-container *ngIf="checkEndorseValue(element,'empty',menu)">
                                                                                <div class="d-flex justify-content-between">
                                                                                    <div></div>
                                                                                    <div>0</div>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="!checkEndorseValue(element,'empty',menu)">
                                                                                <div class="d-flex justify-content-between">
                                                                                    <div></div>
                                                                                    <div>
                                                                                        <ng-container *ngIf="(coverModificationYN=='Y' && !endorseSIModification )  && element.DifferenceYN=='Y'" >
                                                                                            0
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="(coverModificationYN=='Y' && !endorseSIModification) && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC!=null && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC!=0 && element.DifferenceYN=='N'">
                                                                                            {{ element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC |commaseparator }}
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="(coverModificationYN=='N' || endorseSIModification) && !element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC  && (element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC==null || element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC==0)">
                                                                                            0
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="(coverModificationYN=='N' || endorseSIModification )  && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC!=null && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC!=0 ">
                                                                                            {{ element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC |commaseparator }}
                                                                                        </ng-container>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                
                                                                    <ng-container *ngIf="(element.Endorsements==null)">
                                                                        <ng-container *ngIf="element[col.key]==null || element[col.key]==0">
                                                                            <div class="d-flex justify-content-between">
                                                                                <div></div>
                                                                                <div>0</div>
                                                                            </div>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="element[col.key]!=null || element[col.key]!=0">
                                                                            <ng-container *ngIf="endorsementSection && element.DiffPremiumIncludedTaxLC!=null && element.DiffPremiumIncludedTaxLC!=0">
                                                                                <div class="d-flex justify-content-between">
                                                                                    <div>
                                                                                        <ng-container *ngIf="(element.Taxes!=null && element.Taxes.length!=0)">
                                                                                            <ng-template #taxCard>
                                                                                                <div class="popover-card customTemplate shawdowcustom ">
                                                                                                    <div class="card-header" status="warning">
                                                                                                        Premium Details!
                                                                                                    </div>
                                                                                                    <div class="card-body p-0">
                                                                                                        <ul class="list-group">
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Minimum Premium</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{MinimumPremium | number : '1.0' }}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Excluded Tax</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{premiumExcluedTax}}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">ProRata</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{element.ProRata}}&nbsp;(%)</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{premiumExcluedTax}}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Excluded Tax</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{premiumExcluedTax}}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <ng-container *ngIf="taxList.length!=0">
                                                                                                                <li class="list-group-item list-seperate">
                                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                    <div>
                                                                                                                        <b>Taxes</b>
                                                                                                                    </div>
                                                                                                                    <div>
                
                                                                                                                    </div>
                                                                                                                    <!-- </div> -->
                                                                                                                </li>
                                                                                                                <li class="list-group-item list-seperate" *ngFor="let tax of taxList">
                                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">{{tax.TaxDesc}}</span>
                                                                                                                    </div>
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">({{tax.TaxRate}}&nbsp;%)</span>
                                                                                                                    </div>
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">{{tax.TaxAmount}}</span>
                                                                                                                    </div>
                                                                                                                    <!-- </div> -->
                                                                                                                </li>
                                                                                                            </ng-container>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size"><b>Total Premium</b></span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size"><b>{{premiumIncluedTax}}</b></span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                        </ul>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-template>
                                                                                            &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" [ngbPopover]="taxCard" placement="left" (click)="ongetTaxDetails(element)">?</button>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                    <div>{{ element.DiffPremiumIncludedTax | commaseparator }}</div>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="element.DiffPremiumIncludedTax==null || element.DiffPremiumIncludedTax==0 || !endorsementSection">
                                                                                <div class="d-flex justify-content-between">
                                                                                    <div>
                                                                                        <ng-container *ngIf="(element.Taxes!=null && element.Taxes.length!=0)">
                                                                                            <ng-template #taxCard>
                                                                                                <div class="popover-card customTemplate shawdowcustom ">
                                                                                                    <div class="card-header" status="warning">
                                                                                                    Premium Details!
                                                                                                    </div>
                                                                                                    <div class="card-body p-0">
                                                                                                        <ul class="list-group">
                                                                                                            <li class="list-group-item list-seperate" >
                                                                                                                <div >
                                                                                                                    <span class="spancommon span_font_size">
                                                                                                                        <ng-container >Premium After Discount</ng-container>
                                                                                                                        
                                                                                                                    </span>
                                                                                                                </div>
                                                                                                                <div >
                                                                                                                    <span class="spancommon span_font_size">
                                                                                                                        ProRata({{element?.ProRata}}%)
                                                                                                                    </span>
                                                                                                                </div>
                                                                                                                <div >
                                                                                                                    <span class="spancommon span_font_size">
                                                                                                                        <ng-container *ngIf="element?.PremiumAfterDiscount==null || element?.PremiumAfterDiscount==0"><b>0</b></ng-container>
                                                                                                                            <ng-container *ngIf="element?.PremiumAfterDiscount!=null && element?.PremiumAfterDiscount!=0"><b>{{element?.PremiumAfterDiscount | commaseparator}}</b></ng-container>
                                                                                                                    </span>
                                                                                                                </div>
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Minimum Premium</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{MinimumPremium | number : '1.0' }}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Excluded Tax</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{premiumExcluedTax}}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <ng-container *ngIf="taxList.length!=0">
                                                                                                                <li class="list-group-item list-seperate">
                                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                    <div>
                                                                                                                        <b>Taxes</b>
                                                                                                                    </div>
                                                                                                                    <div>
                
                                                                                                                    </div>
                                                                                                                    <!-- </div> -->
                                                                                                                </li>
                                                                                                                <li class="list-group-item list-seperate" *ngFor="let tax of taxList">
                                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">{{tax.TaxDesc}}</span>
                                                                                                                    </div>
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">({{tax.TaxRate}}&nbsp;%)</span>
                                                                                                                    </div>
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">{{tax.TaxAmount}}</span>
                                                                                                                    </div>
                                                                                                                    <!-- </div> -->
                                                                                                                </li>
                                                                                                            </ng-container>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size"><b>Total Premium</b></span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size"><b>{{premiumIncluedTax}}</b></span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                        </ul>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-template>
                                                                                            &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" [ngbPopover]="taxCard" placement="left" (click)="ongetTaxDetails(element)">?</button>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                    <div>
                                                                                        {{ element[col.key]|commaseparator }}
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                            
                                                                        </ng-container>
                                                                    </ng-container>
                
                
                                                                </ng-container>
                                                                <ng-container *ngIf="col.key=='Rate'">
                                                                    &nbsp;
                                                                    <ng-container *ngIf="!adminSection || (adminSection && endorsementSection && element?.Endorsements!=null)">
                                                                        {{ element[col.key]}}
                                                                    </ng-container>
                                                                    <ng-container *ngIf="(adminSection && !endorsementSection) || (adminSection && endorsementSection && element?.Endorsements==null)">
                                                                        <input type="text" [id]="'Rate'+i" style="margin-top: 12px;width: 70px;" [(ngModel)]="element[col.key]">
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.key=='ExcessPercent'">
                                                                    &nbsp;
                                                                    <ng-container *ngIf="!adminSection || (adminSection && endorsementSection && element?.Endorsements!=null)">
                                                                        {{ element[col.key]}}
                                                                    </ng-container>
                                                                    <ng-container *ngIf="(adminSection && !endorsementSection) || (adminSection && endorsementSection && element?.Endorsements==null)">
                                                                        <input type="text" [id]="'ExcessPercent'+i" style="width: 100px;" [(ngModel)]="element[col.key]">
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.key=='ExcessAmount'">
                                                                    &nbsp;
                                                                    <ng-container *ngIf="!adminSection || (adminSection && endorsementSection && element?.Endorsements!=null)">
                                                                        <div style="max-width: 100px !important;"> {{ element[col.key]}}
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="(adminSection && !endorsementSection) || (adminSection && endorsementSection && element?.Endorsements==null)">
                                                                        <input type="text" [id]="'ExcessAmount'+i" style="width: 100px;" [(ngModel)]="element[col.key]">
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.key!='ExcessPercent' && col.key!='ExcessAmount' && col.key!='Rate' && columnHeader[i]['display']!='Sum Insured' && col.key!='PremiumIncludedTax' && col.key!='PremiumAfterDiscount'">
                                                                    <ng-container *ngIf="col.key!='CoverName'">
                                                                        &nbsp;{{ element[col.key]}}
                                                                    </ng-container>
                                                                    <ng-container *ngIf="col.key =='CoverName'" >
                                                                        <div style="min-width: 150px !important;white-space: normal !important;">
                                                                            {{ element[col.key]}}&nbsp;<button class="fa fa-question-circle" style="border: none;" placement="bottom" (click)="covernameinfo(myView,element)">
                                                                            
                                                                            </button>
                                                                        </div>
                                                                        <!--<button type="button" class="btn maan-btn-blue btn-circle" [ngbPopover]="taxCard" placement="left" (click)="ongetTaxDetails(element)">?</button>-->
                                                                        <!--<i class="fa fa-hand-pointer-o" style="font-size:36px"></i>-->
                                                                        
                                                                        <!-- <button class="tooltip" type="button" style="float:right" class="btn maan-btn-blue circleclass" data-toggle="tooltip" data-placement="top" title="{{ element.CoverDesc}}" (click)="covername()">i</button> -->
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="columnHeader[i]['display']=='Sum Insured'">
                                                                    <div class="d-flex justify-content-end">
                                                                        <ng-container *ngIf="element[col.key]==null || element[col.key]==0">
                                                                            0
                                                                        </ng-container>
                                                                        <ng-container *ngIf="element[col.key]!=null || element[col.key]!=0">
                                                                            <div style="max-width: 100px !important;"><span>{{ element[col.key]|commaseparator }}
                                                                            </span></div>
                                                                        </ng-container>
                                                                    </div>
                                                                </ng-container>
                                                            </ng-container>
                
                                                            <ng-template #hasConfig>
                                                                <ng-container *ngIf="col.config.isChecked">
                                                                    &nbsp;&nbsp;
                                                                    <mat-checkbox class="example-margin text-center" [checked]="canbeChecked(element)" [disabled]="(element.isSelected=='D' && !endorseCovers) ||  checkCoverSelection(menu,element)" [name]="element[col.config.model]" (change)="onSelectCover(element,$event.checked,menu.Vehicleid,menu,'coverList','change')">
                                                                    </mat-checkbox>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isExpand">
                                                                    <ng-container *ngIf="!element?.expanded && element.SubCovers">
                                                                        &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" (click)="element.expanded = !element?.expanded">
                                                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                                                        </button>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="element?.expanded  && element.SubCovers">
                                                                        &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" (click)="element.expanded = !element?.expanded">
                                                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                                                        </button>
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.select">
                                                                    <div class="custom-control custom-radio custom-control-inline">
                                                                        <input type="radio" class="custom-control-input" id="customRadio{{element[col.key]}}" name="example" [value]="element[col.key]" (change)="onSelectCustomer.emit(element)">
                                                                        <label class="custom-control-label" for="customRadio{{element[col.key]}}">{{
                                                                            element[col.key] }}</label>
                                                                    </div>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isEdit">
                                                                    <button class="btn btn-primary btn-sm" (click)="onEdit.emit(element)">
                                                                        <i class="fas fa-marker"></i>
                                                                    </button>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isConfigure">
                                                                    <button class="btn btn-primary btn-sm" (click)="onConfigure.emit(element)">
                                                                        <i class="fas fa-cog"></i>
                                                                    </button>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isRemove">
                                                                    <button class="btn btn-danger btn-sm">
                                                                        <i class="fas fa-trash"></i>
                                                                    </button>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isOpenGridAction">
                                                                    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                                                                        <i class="fas fa-ellipsis-v"></i>
                                                                    </button>
                                                                    <mat-menu #menu="matMenu">
                                                                        <button mat-menu-item>
                                                                            <span>Lc Details</span>
                                                                        </button>
                                                                        <button mat-menu-item (click)="onOpenCoverAction.emit({data:element,name:'Certificate'})">
                                                                            <span>Certificate</span>
                                                                        </button>
                                                                        <button mat-menu-item (click)="onOpenCoverAction.emit({data:element,name:'Schedule'})">
                                                                            <span>Schedule</span>
                                                                        </button>
                                                                        <button mat-menu-item>
                                                                            <span>Policy Wording</span>
                                                                        </button>
                                                                    </mat-menu>
                                                                </ng-container>
                                                            </ng-template>
                
                                                        </td>
                                                        <td mat-footer-cell *matFooterCellDef="let event">
                                                            <ng-container *ngIf="col.key=='CoverName'">
                                                                <b>Total</b>
                                                            </ng-container>
                                                            <ng-container *ngIf="col.key=='PremiumIncludedTax'">
                                                                <div class="d-flex justify-content-between">
                                                                    <div></div>
                                                                    <div><b>{{getTotalCost(menu)|commaseparator}}</b></div>
                                                                </div>
                                                            </ng-container>
                                                        </td>
                                                    </ng-container>
                
                                                    <ng-container matColumnDef="expandedDetail">
                                                        <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
                                                            <ng-container *ngIf="element.SubCovers">
                                                                <div class="example-element-detail" [@detailExpand]="element?.expanded" *ngIf="element?.expanded">
                                                                    <div class="row p-0">
                                                                        <div class="col-md-11 col-lg-11 offset-1 p-0">
                                                                            <table mat-table [dataSource]="element.SubCovers" multiTemplateDataRows matSort>
                                                                                <ng-container matColumnDef="header-row-first-group">
                                                                                    <th mat-header-cell *matHeaderCellDef [style.text-align]="center" class="mat-header-cell" [attr.colspan]="3">
                
                                                                                    </th>
                                                                                </ng-container>
                
                                                                                <!-- Header row second group -->
                                                                                <ng-container matColumnDef="header-row-second-group">
                                                                                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="3" [style.text-align]="center" class="innerHead mat-header-cell">
                                                                                        Premium </th>
                                                                                </ng-container>
                                                                                <ng-container *ngFor="let col of innerColumnHeader; let i = index;" [matColumnDef]="col.key" [sticky]="i===0" [stickyEnd]="i === 10">
                                                                                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="innerHead table-header mat-header-cell" style="white-space: pre-line !important;" >
                                                                                        <ng-container *ngIf="innerColumnHeader[i]['display']=='Sum Insured' || innerColumnHeader[i]['display']=='Minimum' || innerColumnHeader[i]['display']=='After Discount' || innerColumnHeader[i]['display']=='Included Tax'">
                                                                                            {{ innerColumnHeader[i]["display"] }}&nbsp;({{currencyCode}})
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="innerColumnHeader[i]['display']=='Rate'" >
                                                                                            {{ innerColumnHeader[i]["display"] }}&nbsp;(%)
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="innerColumnHeader[i]['display']=='ExcessPercent'">
                                                                                            Excess
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="innerColumnHeader[i]['display']!='Sum Insured' && innerColumnHeader[i]['display']!='ExcessPercent' && innerColumnHeader[i]['display']!='Rate' && innerColumnHeader[i]['display']!='Minimum' && innerColumnHeader[i]['display']!='After Discount' && innerColumnHeader[i]['display']!='Included Tax'"
                                                                                        >
                                                                                            {{ innerColumnHeader[i]["display"] }}
                                                                                        </ng-container>
                                    
                                                                                    </th>
                                                                                    <td mat-cell class="customCellInner" *matCellDef="let subElement">
                                                                                        <ng-container *ngIf="!col.config; else hasConfig">
                                                                                            <ng-container *ngIf="col.key=='Status'">
                                                                                                <span *ngIf="subElement[col.key]=='Y'">Active</span>
                                                                                                <span *ngIf="subElement[col.key]!='Y'">DeActive</span>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.key!='Status' && col.key!='CalcType'">
                                                                                                {{ subElement[col.key] }}
                                                                                            </ng-container>
                
                                                                                        </ng-container>
                                                                                        <ng-template #hasConfig>
                                                                                            <ng-container *ngIf="col.config.isChecked">
                                                                                                <mat-checkbox class="example-margin" [(ngModel)]="subElement[col.config.model]" (change)="onSelectCustomer.emit(subElement)">
                                                                                                </mat-checkbox>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.select">
                                                                                                &nbsp;&nbsp;
                                                                                                <ng-container *ngIf="subElement.MultiSelectYn=='Y'">
                                                                                                    <mat-checkbox class="example-margin"  [checked]="subElement.selected" (change)="onChangeSubCover(subElement,element,menu,$event.checked)">
                                                                                                    </mat-checkbox>
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="subElement.MultiSelectYn!='Y'">
                                                                                                    <mat-radio-button [value]="subElement[col.key]" id="customRadio{{subElement[col.key]}}" [name]="'customRadio'+i" (change)="onSelectCustomer.emit(subElement)">
                                                                                                    </mat-radio-button>
                                                                                                </ng-container>
                                                                                                <!-- <mat-radio-group>
                                                                                                    <mat-radio-button [value]="subElement[col.key]" id="customRadio{{subElement[col.key]}}" name="customRadio" (change)="onSelectCustomer.emit(subElement)"></mat-radio-button>
                                                                                                </mat-radio-group> -->
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.isEdit">
                                                                                                <button class="btn btn-primary btn-sm" (click)="onEdit.emit(subElement)">
                                                                                                    <i
                                                                                                        class="fas fa-marker"></i>
                                                                                                </button>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.isConfigure">
                                                                                                <button class="btn btn-primary btn-sm" (click)="onConfigure.emit(subElement)">
                                                                                                    <i class="fas fa-cog"></i>
                                                                                                </button>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.isRemove">
                                                                                                <button class="btn btn-danger btn-sm">
                                                                                                    <i class="fas fa-trash"></i>
                                                                                                </button>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.isOpenGridAction">
                                                                                                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                                                                                                    <i
                                                                                                        class="fas fa-ellipsis-v"></i>
                                                                                                </button>
                                                                                                <mat-menu #menu="matMenu">
                                                                                                    <button mat-menu-item>
                                                                                                        <span>Lc Details</span>
                                                                                                    </button>
                                                                                                    <button mat-menu-item (click)="onOpenCoverAction.emit({data:subElement,name:'Certificate'})">
                                                                                                        <span>Certificate</span>
                                                                                                    </button>
                                                                                                    <button mat-menu-item (click)="onOpenCoverAction.emit({data:subElement,name:'Schedule'})">
                                                                                                        <span>Schedule</span>
                                                                                                    </button>
                                                                                                    <button mat-menu-item>
                                                                                                        <span>Policy
                                                                                                            Wording</span>
                                                                                                    </button>
                                                                                                </mat-menu>
                                                                                            </ng-container>
                                                                                        </ng-template>
                                                                                    </td>
                                                                                </ng-container>
                                                                                <tr mat-header-row *matHeaderRowDef="['header-row-first-group', 'header-row-second-group']">
                                                                                </tr>
                                                                                <tr mat-header-row *matHeaderRowDef="innerKeys">
                                                                                </tr>
                                                                                <tr mat-row *matRowDef="let element;let i = dataIndex; columns: innerKeys;" [ngClass]="{'striped-row': i % 2}" [class.example-element-row]="element.SubCovers?.length" [class.example-expanded-row]="element?.expanded">
                                                                                </tr>
                                                                            </table>
                                                                        </div>
                
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                
                                                        </td>
                
                                                    </ng-container>
                                                    <tr mat-header-row *matHeaderRowDef="['header-row-first-group', 'header-row-second-group']">
                                                    </tr>
                                                    <tr mat-header-row *matHeaderRowDef="keys"></tr>
                                                    <tr mat-row *matRowDef="let element; columns: keys;let i = dataIndex;" [ngClass]="{'striped-row': i % 2}" [class.example-element-row]="element.SubCovers?.length" [class.example-expanded-row]="element?.expanded"></tr>
                                                    <tr mat-row *matRowDef="let row;let j = dataIndex; columns: ['expandedDetail']" [ngClass]="{'striped-row': j % 2}" class="example-detail-row"></tr>
                                                    <tr mat-footer-row *matFooterRowDef="keys"></tr>
                                                </table>
                                            </div>
                                            <div class="display2 col-12">
                                            
                                                <table mat-table [dataSource]="menu.CoverList" style="width:60% !important;" multiTemplateDataRows matSort>
                                                    <ng-container matColumnDef="header-row-first-group">
                                                        <th mat-header-cell *matHeaderCellDef class="outerHead mat-header-cell" [style.text-align]="center" [attr.colspan]="5">
                
                                                        </th>
                                                    </ng-container>
                                                    <ng-container matColumnDef="header-row-second-group">
                                                        <th mat-header-cell *matHeaderCellDef [attr.colspan]="6" class="text-center outerHead mat-header-cell">Premium </th>
                                                    </ng-container>
                
                                                    <ng-container *ngFor="let col of columnHeader; let i = index;" [matColumnDef]="col.key" [sticky]="i===0" [stickyEnd]="i === 10">
                
                                                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-center outerHead mat-header-cell" style="white-space: normal !important;">&nbsp;
                                                            <ng-container *ngIf="columnHeader[i]['display']=='Sum Insured' || columnHeader[i]['display']=='Minimum' || columnHeader[i]['display']=='After Discount' || columnHeader[i]['display']=='Included Tax'">
                                                                {{ columnHeader[i]["display"] }}&nbsp;({{currencyCode}})
                                                            </ng-container>
                                                            <ng-container *ngIf="columnHeader[i]['display']=='Rate'">
                                                                {{ columnHeader[i]["display"] }}&nbsp;(%)
                                                            </ng-container>
                                                            <ng-container *ngIf="columnHeader[i]['display']=='Excess Percent'">
                                                                Excess&nbsp;(%)
                                                            </ng-container>
                                                            <ng-container *ngIf="columnHeader[i]['display']=='Excess Amount'">
                                                                Excess<br>({{currencyCode}})
                                                            </ng-container>
                                                            <ng-container *ngIf="columnHeader[i]['display']!='Sum Insured' && columnHeader[i]['display']!='Referral' && columnHeader[i]['display']!='Excess Amount' && columnHeader[i]['display']!='Excess Percent' && columnHeader[i]['display']!='Rate' && columnHeader[i]['display']!='Minimum' && columnHeader[i]['display']!='After Discount' && columnHeader[i]['display']!='Included Tax'"
                                                                >
                                                                {{ columnHeader[i]["display"] }}
                                                            </ng-container>
                                                        </th>
                                                        <td mat-cell *matCellDef="let element" class="customCell" [ngClass]="{'customRowBg': col.key=='CoverName' && element?.isReferal === 'Y'}">
                                                            <ng-container *ngIf="!col.config; else hasConfig">
                                                                <ng-container *ngIf="col.key=='Status'">
                                                                    <span *ngIf="element[col.key]=='Y'">Active</span>
                                                                    <span *ngIf="element[col.key]!='Y'">DeActive</span>
                                                                </ng-container>
                                                                      <div class="d-flex justify-content-between">
        
                                                                     
                                                                <div>
                                                                    <span class="mobile-label"> {{ columnHeader[i]["display"] }}</span>
                                                                    <!-- <span class="mobile-label">
                                                                    <ng-container *ngIf="columnHeader[i]['display']=='Sum Insured' || columnHeader[i]['display']=='Minimum' || columnHeader[i]['display']=='After Discount' || columnHeader[i]['display']=='Included Tax'">
                                                                        {{ columnHeader[i]["display"] }}&nbsp;({{currencyCode}})
                                                                    </ng-container>
                                                                    <ng-container *ngIf="columnHeader[i]['display']=='Rate'">
                                                                        {{ columnHeader[i]["display"] }}&nbsp;(%)
                                                                    </ng-container>
                                                                    <ng-container *ngIf="columnHeader[i]['display']=='Excess Percent'">
                                                                        Excess&nbsp;(%)
                                                                    </ng-container>
                                                                    <ng-container *ngIf="columnHeader[i]['display']=='Excess Amount'">
                                                                        Excess<br>({{currencyCode}})
                                                                    </ng-container>
                                                                    <ng-container *ngIf="columnHeader[i]['display']!='Sum Insured' && columnHeader[i]['display']!='Referral' && columnHeader[i]['display']!='Excess Amount' && columnHeader[i]['display']!='Excess Percent' && columnHeader[i]['display']!='Rate' && columnHeader[i]['display']!='Minimum' && columnHeader[i]['display']!='After Discount' && columnHeader[i]['display']!='Included Tax'"
                                                                        >
                                                                        {{ columnHeader[i]["display"] }}
                                                                    </ng-container>
                                                                </span> -->
                                                                </div>
                                                                <div>
                                                                <ng-container *ngIf="col.key=='PremiumAfterDiscount'">
                
                                                                    <div class="d-flex justify-content-between">
                                                                        <div>
                                                                            <ng-container *ngIf="(element.Discounts!=null && element.Discounts.length!=0) || (element.Loadings!=null && element.Loadings.length!=0)">
                                                                                <ng-template #discountCard>
                                                                                    <div class="popover-card customTemplate shawdowcustom ">
                                                                                        <div class="card-header" status="warning">
                                                                                            <span class="spancommon span_font_size">Premium
                                                                                                Details!</span>
                
                                                                                        </div>
                                                                                        <div class="card-body p-0">
                                                                                            <ul class="list-group">
                                                                                                <li class="list-group-item list-seperate">
                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">Before
                                                                                                            Discount</span>
                
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">{{beforeDiscount}}</span>
                                                                                                    </div>
                                                                                                    <!-- </div> -->
                                                                                                </li>
                                                                                                <ng-container *ngIf="discountList.length!=0">
                                                                                                    <li class="list-group-item list-seperate">
                                                                                                        <!-- <div class="d-flex justify-content-between"> -->
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">Discounts</span>
                                                                                                        </div>
                                                                                                        <div>
                                                                                                        </div>
                                                                                                        <!-- </div> -->
                                                                                                    </li>
                                                                                                    <li class="list-group-item list-seperate" *ngFor="let discount of discountList">
                                                                                                        <!-- <div class="d-flex justify-content-between"> -->
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">{{discount.DiscountDesc}}</span>
                
                                                                                                        </div>
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">{{discount.DiscountAmount}}</span>
                
                                                                                                        </div>
                                                                                                        <!-- </div> -->
                                                                                                    </li>
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="loadingList.length!=0">
                                                                                                    <li class="list-group-item list-seperate">
                                                                                                        <!-- <div class="d-flex justify-content-between"> -->
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">Loading</span>
                
                                                                                                        </div>
                                                                                                        <div>
                
                                                                                                        </div>
                                                                                                        <!-- </div> -->
                                                                                                    </li>
                                                                                                    <li class="list-group-item list-seperate" *ngFor="let loading of loadingList">
                                                                                                        <!-- <div class="d-flex justify-content-between"> -->
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">{{loading.LoadingDesc}}</span>
                
                                                                                                        </div>
                                                                                                        <div>
                                                                                                            <span class="spancommon span_font_size">{{loading.LoadingAmount}}</span>
                
                                                                                                        </div>
                                                                                                        <!-- </div> -->
                                                                                                    </li>
                                                                                                </ng-container>
                                                                                                <li class="list-group-item list-seperate">
                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">Total
                                                                                                            Premium</span>
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">{{afterDiscount}}</span>
                
                                                                                                    </div>
                                                                                                    <!-- </div> -->
                                                                                                </li>
                                                                                            </ul>
                                                                                        </div>
                                                                                    </div>
                                                                                </ng-template>
                                                                                &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" [ngbPopover]="discountCard" (click)="setDiscountDetails(element)" style="margin-right:7px !important;">?
                                                                                </button>
                                                                            </ng-container>
                                                                        </div>
                                                                        <div>
                                                                            <ng-container *ngIf="element[col.key]==null || element[col.key]==0">
                                                                                0
                                                                            </ng-container>
                                                                            <ng-container *ngIf="element[col.key]!=null || element[col.key]!=0">
                                                                                <span>{{ element[col.key]|commaseparator }}
                                                                                </span>
                                                                            </ng-container>
                                                                        </div>
                                                                    </div>
                                                                </ng-container>
                
                                                                <ng-container *ngIf="col.key=='PremiumIncludedTax'">
                                                                    <ng-container *ngIf="(element.Endorsements!=null)">
                                                                        <ng-container *ngIf="(element.Endorsements.length!=0)">
                                                                            <ng-template #endorseCard>
                                                                                <div class="popover-card customTemplate shawdowcustom ">
                                                                                    <div class="card-header" status="warning">
                                                                                        <div class="d-flex justify-content-between">
                                                                                            <div>
                                                                                                Endorsement Details!
                                                                                            </div>
                                                                                            <div>
                                                                                                No.Of.Endorsement ~ {{endorsementDetails?.EndtCount}}
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="card-body p-0">
                
                                                                                        <div class="mt-1" style="background-color: #acbf8e;border:1px solid grey;padding: 4px;border-radius: 5px;">
                                                                                            <!-- <span class="spancommon span_font_size"><b>Description</b>&nbsp;:&nbsp;</span> -->
                                                                                            
                                                                                            <span class="spancommon span_font_size">{{endorsementDetails?.EndorsementDesc}}</span>
                                                                                        </div>
                                                                                        <ul class="list-group">
                
                                                                                            <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Current Premium</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="element.PremiumExcluedTax==null || element.PremiumExcluedTax==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="element.PremiumExcluedTax!=null && element.PremiumExcluedTax!=0"><b>{{element.PremiumExcluedTax | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li>
                                                                                            <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Previous Premium</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumAfterDiscount==null || endorsementDetails?.PremiumAfterDiscount==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumAfterDiscount!=null && endorsementDetails?.PremiumAfterDiscount!=0"><b>{{endorsementDetails?.PremiumAfterDiscount | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li>
                                                                                            <li class="list-group-item list-seperate" >
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="coverModificationYN=='N'">Difference Premium</ng-container>
                                                                                                        <ng-container *ngIf="coverModificationYN=='Y'">Removal Premium</ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        ProRata({{endorsementDetails?.ProRata}}%)
                                                                                                    </span>
                                                                                                </div>
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumExcludedTax==null || endorsementDetails?.PremiumExcludedTax==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumExcludedTax!=null && endorsementDetails?.PremiumExcludedTax!=0"><b>{{endorsementDetails?.PremiumExcludedTax | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li>
                                                                                            <ng-container *ngIf="endorsementDetails?.EndorsementFees!=null">
                                                                                                <li class="list-group-item list-seperate" *ngFor="let tax of endorsementDetails?.EndorsementFees">
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size">{{tax.TaxDesc}}</span>
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">({{tax.TaxRate}}&nbsp;%)</span>
                                                                                                    </div>
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size">
                                                                                                            <ng-container *ngIf="tax?.TaxAmount==null || tax?.TaxAmount==0"><b>0</b></ng-container>
                                                                                                                <ng-container *ngIf="tax?.TaxAmount!=null && tax?.TaxAmount!=0"><b>{{tax?.TaxAmount | commaseparator}}</b></ng-container>
                                                                                                        </span>
                                                                                                    </div>
                                                                                                </li>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="endorsementDetails?.Taxes!=null">
                                                                                                <li class="list-group-item list-seperate" >
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size"><u>Taxes</u></span>
                                                                                                    </div>
                                                                                                    <div >
                
                                                                                                    </div>
                                                                                                </li>
                                                                                                <li class="list-group-item list-seperate" *ngFor="let tax of endorsementDetails?.Taxes">
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size">{{tax.TaxDesc}}</span>
                                                                                                    </div>
                                                                                                    <div>
                                                                                                        <span class="spancommon span_font_size">({{tax.TaxRate}}&nbsp;%)</span>
                                                                                                    </div>
                                                                                                    <div >
                                                                                                        <span class="spancommon span_font_size">
                                                                                                            <ng-container *ngIf="tax?.TaxAmount==null || tax?.TaxAmount==0"><b>0</b></ng-container>
                                                                                                                <ng-container *ngIf="tax?.TaxAmount!=null && tax?.TaxAmount!=0"><b>{{tax?.TaxAmount | commaseparator}}</b></ng-container>
                                                                                                        </span>
                                                                                                    </div>
                                                                                                </li>
                                                                                            </ng-container>
                                                                                            <li class="list-group-item list-seperate" >
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">Total Premium</span>
                                                                                                </div>
                                                                                                <div >
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="(element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax==null || element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax==0) "><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="(element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax!=null && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax!=0)"><b>{{element.Endorsements[element.Endorsements.length-1].PremiumIncludedTax | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li>
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Maximum Endorsement Amount</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.MaxEndorsementAmount==null || endorsementDetails?.MaxEndorsementAmount==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.MaxEndorsementAmount!=null && endorsementDetails?.MaxEndorsementAmount!=0"><b>{{endorsementDetails?.MaxEndorsementAmount | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Premium Before Discount</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumBeforeDiscountLC==null || endorsementDetails?.PremiumBeforeDiscountLC==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumBeforeDiscountLC!=null && endorsementDetails?.PremiumBeforeDiscountLC!=0"><b>{{endorsementDetails?.PremiumBeforeDiscountLC | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Premium After Discount</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumAfterDiscount==null || endorsementDetails?.PremiumAfterDiscount==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumAfterDiscount!=null && endorsementDetails?.PremiumAfterDiscount!=0"><b>{{endorsementDetails?.PremiumAfterDiscount | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Premium Inculded Tax</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumIncludedTaxLC==null || endorsementDetails?.PremiumIncludedTaxLC==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumIncludedTaxLC!=null && endorsementDetails?.PremiumIncludedTaxLC!=0"><b>{{endorsementDetails?.PremiumIncludedTaxLC | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                            <!-- <li class="list-group-item list-seperate">
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">Premium Excluded Tax</span>
                                                                                                </div>
                                                                                                <div>
                                                                                                    <span class="spancommon span_font_size">
                                                                                                        <ng-container *ngIf="endorsementDetails?.PremiumExcludedTaxLC==null || endorsementDetails?.PremiumExcludedTaxLC==0"><b>0</b></ng-container>
                                                                                                            <ng-container *ngIf="endorsementDetails?.PremiumExcludedTaxLC!=null && endorsementDetails?.PremiumExcludedTaxLC!=0"><b>{{endorsementDetails?.PremiumExcludedTaxLC | commaseparator}}</b></ng-container>
                                                                                                    </span>
                                                                                                </div>
                                                                                            </li> -->
                                                                                        </ul>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-template>
                                                                            &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle-alt" data-toggle="tooltip" data-placement="top" title="Endorsement" [ngbPopover]="endorseCard" placement="left" (click)="onGetEndorsement(element)"><i class="fa fa-bookmark" aria-hidden="true"></i></button>
                                                                            <ng-container *ngIf="checkEndorseValue(element,'empty',menu)">
                                                                                <div class="d-flex justify-content-between">
                                                                                    <div></div>
                                                                                    <div>0</div>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="!checkEndorseValue(element,'empty',menu)">
                                                                                <div class="d-flex justify-content-between">
                                                                                    <div></div>
                                                                                    <div>
                                                                                        <ng-container *ngIf="coverModificationYN=='Y'  && element.DifferenceYN=='Y'" >
                                                                                                0
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="coverModificationYN=='Y' && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC!=null && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC!=0 && element.DifferenceYN=='N'">
                                                                                            {{ element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC |commaseparator }}
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="coverModificationYN=='N' && !element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC  && (element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC==null || element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC==0)">
                                                                                            0
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="coverModificationYN=='N' && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC!=null && element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC!=0">
                                                                                            {{ element.Endorsements[element.Endorsements.length-1].PremiumIncludedTaxLC |commaseparator }}
                                                                                        </ng-container>
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                
                                                                    <ng-container *ngIf="(element.Endorsements==null)">
                                                                        <ng-container *ngIf="element[col.key]==null || element[col.key]==0">
                                                                            <div class="d-flex justify-content-between">
                                                                                <div></div>
                                                                                <div>0</div>
                                                                            </div>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="element[col.key]!=null || element[col.key]!=0">
                                                                            <ng-container *ngIf="endorsementSection && element.DiffPremiumIncludedTaxLC!=null && element.DiffPremiumIncludedTaxLC!=0">
                                                                                <div class="d-flex justify-content-between">
                                                                                    <div>
                                                                                        <ng-container *ngIf="(element.Taxes!=null && element.Taxes.length!=0)">
                                                                                            <ng-template #taxCard>
                                                                                                <div class="popover-card customTemplate shawdowcustom">
                                                                                                    <div class="card-header" status="warning">
                                                                                                        Premium Details!
                                                                                                    </div>
                                                                                                    <div class="card-body p-0">
                                                                                                        <ul class="list-group">
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Minimum Premium</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{MinimumPremium | number : '1.0' }}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Excluded Tax</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{premiumExcluedTax}}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">ProRata</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{element.ProRata}}&nbsp;(%)</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{premiumExcluedTax}}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Excluded Tax</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{premiumExcluedTax}}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <ng-container *ngIf="taxList.length!=0">
                                                                                                                <li class="list-group-item list-seperate">
                                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                    <div>
                                                                                                                        <b>Taxes</b>
                                                                                                                    </div>
                                                                                                                    <div>
                
                                                                                                                    </div>
                                                                                                                    <!-- </div> -->
                                                                                                                </li>
                                                                                                                <li class="list-group-item list-seperate" *ngFor="let tax of taxList">
                                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">{{tax.TaxDesc}}</span>
                                                                                                                    </div>
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">({{tax.TaxRate}}&nbsp;%)</span>
                                                                                                                    </div>
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">{{tax.TaxAmount}}</span>
                                                                                                                    </div>
                                                                                                                    <!-- </div> -->
                                                                                                                </li>
                                                                                                            </ng-container>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size"><b>Total Premium</b></span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size"><b>{{premiumIncluedTax}}</b></span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                        </ul>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-template>
                                                                                            &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" [ngbPopover]="taxCard" placement="left" (click)="ongetTaxDetails(element)" style="margin-right:3px !important;">?</button>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                    <div>{{ element.DiffPremiumIncludedTax | commaseparator }}</div>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="element.DiffPremiumIncludedTax==null || element.DiffPremiumIncludedTax==0 || !endorsementSection">
                                                                                <div class="d-flex justify-content-between">
                                                                                    <div>
                                                                                        <ng-container *ngIf="(element.Taxes!=null && element.Taxes.length!=0)">
                                                                                            <ng-template #taxCard>
                                                                                               
                                                                                                <div class="popover-card customTemplate shawdowcustom">
                                                                                                    <div class="card-header" status="warning">
                                                                                                    Premium Details!
                                                                                                    </div>
                                                                                                    <div class="card-body p-0">
                                                                                                        <ul class="list-group">
                                                                                                            <li class="list-group-item list-seperate" >
                                                                                                                <div >
                                                                                                                    <span class="spancommon span_font_size">
                                                                                                                        <ng-container >Premium After Discount</ng-container>
                                                                                                                        
                                                                                                                    </span>
                                                                                                                </div>
                                                                                                                <div >
                                                                                                                    <span class="spancommon span_font_size">
                                                                                                                        ProRata({{element?.ProRata}}%)
                                                                                                                    </span>
                                                                                                                </div>
                                                                                                                <div >
                                                                                                                    <span class="spancommon span_font_size">
                                                                                                                        <ng-container *ngIf="element?.PremiumAfterDiscount==null || element?.PremiumAfterDiscount==0"><b>0</b></ng-container>
                                                                                                                            <ng-container *ngIf="element?.PremiumAfterDiscount!=null && element?.PremiumAfterDiscount!=0"><b>{{element?.PremiumAfterDiscount | commaseparator}}</b></ng-container>
                                                                                                                    </span>
                                                                                                                </div>
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Minimum Premium</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{MinimumPremium | number : '1.0' }}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">Excluded Tax</span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size">{{premiumExcluedTax}}</span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                            <ng-container *ngIf="taxList.length!=0">
                                                                                                                <li class="list-group-item list-seperate">
                                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                    <div>
                                                                                                                        <b>Taxes</b>
                                                                                                                    </div>
                                                                                                                    <div>
                
                                                                                                                    </div>
                                                                                                                    <!-- </div> -->
                                                                                                                </li>
                                                                                                                <li class="list-group-item list-seperate" *ngFor="let tax of taxList">
                                                                                                                    <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">{{tax.TaxDesc}}</span>
                                                                                                                    </div>
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">({{tax.TaxRate}}&nbsp;%)</span>
                                                                                                                    </div>
                                                                                                                    <div>
                                                                                                                        <span class="spancommon span_font_size">{{tax.TaxAmount}}</span>
                                                                                                                    </div>
                                                                                                                    <!-- </div> -->
                                                                                                                </li>
                                                                                                            </ng-container>
                                                                                                            <li class="list-group-item list-seperate">
                                                                                                                <!-- <div class="d-flex justify-content-between"> -->
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size"><b>Total Premium</b></span>
                                                                                                                </div>
                                                                                                                <div>
                                                                                                                    <span class="spancommon span_font_size"><b>{{premiumIncluedTax}}</b></span>
                                                                                                                </div>
                                                                                                                <!-- </div> -->
                                                                                                            </li>
                                                                                                        </ul>
                                                                                                    </div>
                                                                                                </div>
                                                                                               
                                                                                           
                                                                                            </ng-template>
                                                                                            &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" [ngbPopover]="taxCard" placement="top" (click)="ongetTaxDetails(element)" style="margin-right:7px !important;">?</button>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                    <div>
                                                                                        {{ element[col.key]|commaseparator }}
                                                                                    </div>
                                                                                </div>
                                                                            </ng-container>
                                                                            
                                                                        </ng-container>
                                                                    </ng-container>
                
                
                                                                </ng-container>
                                                                <ng-container *ngIf="col.key=='Rate'">
                                                                   
                                                                    <ng-container *ngIf="!adminSection || (adminSection && endorsementSection && element?.Endorsements!=null)">
                                                                        {{ element[col.key]}}
                                                                    </ng-container>
                                                                    <ng-container *ngIf="(adminSection && !endorsementSection) || (adminSection && endorsementSection && element?.Endorsements==null)">
                                                                        <input type="text" [id]="'Rate'+i" style="width: 70px;" [(ngModel)]="element[col.key]">
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.key=='ExcessPercent'">
                                                                    &nbsp;
                                                                    <ng-container *ngIf="!adminSection || (adminSection && endorsementSection && element?.Endorsements!=null)">
                                                                        {{ element[col.key]}}
                                                                    </ng-container>
                                                                    <ng-container *ngIf="(adminSection && !endorsementSection) || (adminSection && endorsementSection && element?.Endorsements==null)">
                                                                        <input type="text" [id]="'ExcessPercent'+i" style="width: 100px;" [(ngModel)]="element[col.key]">
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.key=='ExcessAmount'">
                                                                    &nbsp;
                                                                    <ng-container *ngIf="!adminSection || (adminSection && endorsementSection && element?.Endorsements!=null)">
                                                                        <div style="max-width: 100px !important;"> {{ element[col.key]}}
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="(adminSection && !endorsementSection) || (adminSection && endorsementSection && element?.Endorsements==null)">
                                                                        <input type="text" [id]="'ExcessAmount'+i" style="width: 100px;" [(ngModel)]="element[col.key]">
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.key!='ExcessPercent' && col.key!='ExcessAmount' && col.key!='Rate' && columnHeader[i]['display']!='Sum Insured' && col.key!='PremiumIncludedTax' && col.key!='PremiumAfterDiscount'">
                                                                    <ng-container *ngIf="col.key!='CoverName'">
                                                                        &nbsp;{{ element[col.key]}}
                                                                    </ng-container>
                                                                    <ng-container *ngIf="col.key =='CoverName'" >
                                                                        <div style="min-width: 150px !important;"><!--style="min-width: 150px !important;"-->
                                                                            
                                                                            {{ element[col.key]}}&nbsp;<button class="fa fa-question-circle" style="border: none;" placement="bottom" (click)="covernameinfo(myView,element)">
                                                                            
                                                                            </button>
                                                                        </div>
                                                                        <!--<button type="button" class="btn maan-btn-blue btn-circle" [ngbPopover]="taxCard" placement="left" (click)="ongetTaxDetails(element)">?</button>-->
                                                                        <!--<i class="fa fa-hand-pointer-o" style="font-size:36px"></i>-->
                                                                        
                                                                        <!-- <button class="tooltip" type="button" style="float:right" class="btn maan-btn-blue circleclass" data-toggle="tooltip" data-placement="top" title="{{ element.CoverDesc}}" (click)="covername()">i</button> -->
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="columnHeader[i]['display']=='Sum Insured'">
                                                                    <div class="d-flex justify-content-end">
                                                                        <ng-container *ngIf="element[col.key]==null || element[col.key]==0">
                                                                            0
                                                                        </ng-container>
                                                                        <ng-container *ngIf="element[col.key]!=null || element[col.key]!=0">
                                                                            <div style="max-width: 100px !important;"><span>{{ element[col.key]|commaseparator }}
                                                                            </span></div>
                                                                        </ng-container>
                                                                    </div>
                                                                </ng-container>
                                                                </div>
                                                            </div>
                                                            </ng-container>
                
                                                            <ng-template #hasConfig>
                                                                <ng-container *ngIf="col.config.isChecked">
                                                                    &nbsp;&nbsp;
        
                                                                            <span class="mobile-label"> {{ columnHeader[i]["display"] }}</span>
                                                                    
                                                                        <mat-checkbox style="margin-left:100px;" class="example-margin" [checked]="canbeChecked(element)" [disabled]="element.isSelected=='D' ||  checkCoverSelection(menu,element)" [name]="element[col.config.model]" (change)="onSelectCover(element,$event.checked,menu.Vehicleid,menu,'coverList','change')">
                                                                        </mat-checkbox>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isExpand">
                                                                    <div style="text-align: center;">
                                                                        <ng-container *ngIf="!element?.expanded && element.SubCovers">
                                                                            &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" (click)="element.expanded = !element?.expanded">
                                                                                <i class="fa fa-plus" aria-hidden="true"></i>
                                                                            </button>
                                                                        </ng-container>
                                                                    </div>
                                                                  
                                                                    <ng-container *ngIf="element?.expanded  && element.SubCovers">
                                                                        <div style="text-align: center;">
                                                                        &nbsp;&nbsp;<button type="button" class="btn maan-btn-blue btn-circle" (click)="element.expanded = !element?.expanded">
                                                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                                                        </button>
                                                                        </div>
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.select">
                                                                    <div class="custom-control custom-radio custom-control-inline">
                                                                        <input type="radio" class="custom-control-input" id="customRadio{{element[col.key]}}" name="example" [value]="element[col.key]" (change)="onSelectCustomer.emit(element)">
                                                                        <label class="custom-control-label" for="customRadio{{element[col.key]}}">{{
                                                                            element[col.key] }}</label>
                                                                    </div>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isEdit">
                                                                    <button class="btn btn-primary btn-sm" (click)="onEdit.emit(element)">
                                                                        <i class="fas fa-marker"></i>
                                                                    </button>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isConfigure">
                                                                    <button class="btn btn-primary btn-sm" (click)="onConfigure.emit(element)">
                                                                        <i class="fas fa-cog"></i>
                                                                    </button>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isRemove">
                                                                    <button class="btn btn-danger btn-sm">
                                                                        <i class="fas fa-trash"></i>
                                                                    </button>
                                                                </ng-container>
                                                                <ng-container *ngIf="col.config.isOpenGridAction">
                                                                    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                                                                        <i class="fas fa-ellipsis-v"></i>
                                                                    </button>
                                                                    <mat-menu #menu="matMenu">
                                                                        <button mat-menu-item>
                                                                            <span>Lc Details</span>
                                                                        </button>
                                                                        <button mat-menu-item (click)="onOpenCoverAction.emit({data:element,name:'Certificate'})">
                                                                            <span>Certificate</span>
                                                                        </button>
                                                                        <button mat-menu-item (click)="onOpenCoverAction.emit({data:element,name:'Schedule'})">
                                                                            <span>Schedule</span>
                                                                        </button>
                                                                        <button mat-menu-item>
                                                                            <span>Policy Wording</span>
                                                                        </button>
                                                                    </mat-menu>
                                                                </ng-container>
                                                            </ng-template>
                
                                                        </td>
                                                        <td mat-footer-cell *matFooterCellDef="let event">
                                                            <!-- <ng-container *ngIf="col.key=='CoverName'">
                                                                <b>Total</b>
                                                            </ng-container>
                                                            <ng-container *ngIf="col.key=='PremiumIncludedTax'">
                                                                <div class="d-flex justify-content-between">
                                                                    <div></div>
                                                                    <div><b>{{getTotalCost(menu)|commaseparator}}</b></div>
                                                                </div>
                                                            </ng-container> -->
                                                        </td>
                                                    </ng-container>
                
                                                    <ng-container matColumnDef="expandedDetail">
                                                        <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
                                                            <ng-container *ngIf="element.SubCovers">
                                                                <div class="example-element-detail" [@detailExpand]="element?.expanded" *ngIf="element?.expanded">
                                                                    <div class="row p-0">
                                                                        <div class="col-md-11 col-lg-11 offset-1 p-0">
                                                                            <table mat-table [dataSource]="element.SubCovers" multiTemplateDataRows matSort>
                                                                                <ng-container matColumnDef="header-row-first-group">
                                                                                    <th mat-header-cell *matHeaderCellDef [style.text-align]="center" class="mat-header-cell" [attr.colspan]="3">
                
                                                                                    </th>
                                                                                </ng-container>
                
                                                                                <!-- Header row second group -->
                                                                                <ng-container matColumnDef="header-row-second-group">
                                                                                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="3" [style.text-align]="center" class="innerHead mat-header-cell">
                                                                                        Premium </th>
                                                                                </ng-container>
                                                                                <ng-container *ngFor="let col of innerColumnHeader; let i = index;" [matColumnDef]="col.key" [sticky]="i===0" [stickyEnd]="i === 10">
                                                                                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="innerHead table-header mat-header-cell" style="white-space: pre-line !important;" >
                                                                                        <ng-container *ngIf="innerColumnHeader[i]['display']=='Sum Insured' || innerColumnHeader[i]['display']=='Minimum' || innerColumnHeader[i]['display']=='After Discount' || innerColumnHeader[i]['display']=='Included Tax'">
                                                                                            {{ innerColumnHeader[i]["display"] }}&nbsp;({{currencyCode}})
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="innerColumnHeader[i]['display']=='Rate'" >
                                                                                            {{ innerColumnHeader[i]["display"] }}&nbsp;(%)
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="innerColumnHeader[i]['display']=='ExcessPercent'">
                                                                                            Excess
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="innerColumnHeader[i]['display']!='Sum Insured' && innerColumnHeader[i]['display']!='ExcessPercent' && innerColumnHeader[i]['display']!='Rate' && innerColumnHeader[i]['display']!='Minimum' && innerColumnHeader[i]['display']!='After Discount' && innerColumnHeader[i]['display']!='Included Tax'"
                                                                                        >
                                                                                            {{ innerColumnHeader[i]["display"] }}
                                                                                        </ng-container>
                                    
                                                                                    </th>
                                                                                    <td mat-cell class="customCellInner" *matCellDef="let subElement">
                                                                                        <ng-container *ngIf="!col.config; else hasConfig">
                                                                                            <ng-container *ngIf="col.key=='Status'">
                                                                                                <span *ngIf="subElement[col.key]=='Y'">Active</span>
                                                                                                <span *ngIf="subElement[col.key]!='Y'">DeActive</span>
                                                                                            </ng-container>
                                                                                            <!-- <span class="mobile-label">{{ innerColumnHeader[i]["display"] }}</span>
                                                                                            <ng-container *ngIf="col.key!='Status' && col.key!='CalcType'">
                                                                                                {{ subElement[col.key] }}
                                                                                            </ng-container> -->
                                                                                            <div class="row">
                                                                                                <div class="col-6">
                                                                                                    <span class="mobile-label">{{ innerColumnHeader[i]["display"] }}</span>
                                                                                                  
                                                                                                </div>
                                                                                                <div class="col-6">
                                                                                                    <ng-container *ngIf="col.key!='Status' && col.key!='CalcType'">
                                                                                                        {{ subElement[col.key] }}
                                                                                                    </ng-container>
                                                                                                </div>
                                                                                            </div>
                                                                                           
                
                                                                                        </ng-container>
                                                                                        <ng-template #hasConfig>
                                                                                            <ng-container *ngIf="col.config.isChecked">
                                                                                                <mat-checkbox class="example-margin" [(ngModel)]="subElement[col.config.model]" (change)="onSelectCustomer.emit(subElement)">
                                                                                                </mat-checkbox>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.select">
                                                                                                &nbsp;&nbsp;
                                                                                                <ng-container *ngIf="subElement.MultiSelectYn=='Y'">
                                                                                                    <mat-checkbox class="example-margin"  [checked]="subElement.selected" (change)="onChangeSubCover(subElement,element,menu,$event.checked)">
                                                                                                    </mat-checkbox>
                                                                                                </ng-container>
                                                                                                <ng-container *ngIf="subElement.MultiSelectYn!='Y'">
                                                                                                    <mat-radio-button [value]="subElement[col.key]" id="customRadio{{subElement[col.key]}}" [name]="'customRadio'+i" (change)="onSelectCustomer.emit(subElement)">
                                                                                                    </mat-radio-button>
                                                                                                </ng-container>
                                                                                                <!-- <mat-radio-group>
                                                                                                    <mat-radio-button [value]="subElement[col.key]" id="customRadio{{subElement[col.key]}}" name="customRadio" (change)="onSelectCustomer.emit(subElement)"></mat-radio-button>
                                                                                                </mat-radio-group> -->
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.isEdit">
                                                                                                <button class="btn btn-primary btn-sm" (click)="onEdit.emit(subElement)">
                                                                                                    <i
                                                                                                        class="fas fa-marker"></i>
                                                                                                </button>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.isConfigure">
                                                                                                <button class="btn btn-primary btn-sm" (click)="onConfigure.emit(subElement)">
                                                                                                    <i class="fas fa-cog"></i>
                                                                                                </button>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.isRemove">
                                                                                                <button class="btn btn-danger btn-sm">
                                                                                                    <i class="fas fa-trash"></i>
                                                                                                </button>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="col.config.isOpenGridAction">
                                                                                                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                                                                                                    <i
                                                                                                        class="fas fa-ellipsis-v"></i>
                                                                                                </button>
                                                                                                <mat-menu #menu="matMenu">
                                                                                                    <button mat-menu-item>
                                                                                                        <span>Lc Details</span>
                                                                                                    </button>
                                                                                                    <button mat-menu-item (click)="onOpenCoverAction.emit({data:subElement,name:'Certificate'})">
                                                                                                        <span>Certificate</span>
                                                                                                    </button>
                                                                                                    <button mat-menu-item (click)="onOpenCoverAction.emit({data:subElement,name:'Schedule'})">
                                                                                                        <span>Schedule</span>
                                                                                                    </button>
                                                                                                    <button mat-menu-item>
                                                                                                        <span>Policy
                                                                                                            Wording</span>
                                                                                                    </button>
                                                                                                </mat-menu>
                                                                                            </ng-container>
                                                                                        </ng-template>
                                                                                    </td>
                                                                                </ng-container>
                                                                                <tr mat-header-row *matHeaderRowDef="['header-row-first-group', 'header-row-second-group']">
                                                                                </tr>
                                                                                <tr mat-header-row *matHeaderRowDef="innerKeys" style="width:100% !important;">
                                                                                </tr>
                                                                                <tr mat-row *matRowDef="let element;let i = dataIndex; columns: innerKeys;" [ngClass]="{'striped-row': i % 2}" [class.example-element-row]="element.SubCovers?.length" [class.example-expanded-row]="element?.expanded"
                                                                                style="height: 60%;width:90%;overflow: scroll;display: flex !important;flex-direction: column; border-top:1px solid navy; border-bottom:1px solid navy;font-size:14px;" class="mt-2">
                                                                                </tr>
                                                                            </table>
                                                                        </div>
                
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                
                                                        </td>
                
                                                    </ng-container>
                                                    <tr mat-header-row *matHeaderRowDef="['header-row-first-group', 'header-row-second-group']">
                                                    </tr>
                                                    <tr mat-header-row *matHeaderRowDef="keys"></tr>
                                                    <tr mat-row *matRowDef="let element; columns: keys;let i = dataIndex;" class="mt-2" [ngClass]="{'striped-row': i % 2}" [class.example-element-row]="element.SubCovers?.length" [class.example-expanded-row]="element?.expanded"
                                                    style="height: 60%;overflow-y:scroll;display: flex !important;flex-direction: column; border-top:1px solid navy; border-bottom:1px solid navy;font-size:14px;"></tr>
                                                    <tr mat-row *matRowDef="let row;let j = dataIndex; columns: ['expandedDetail']" [ngClass]="{'striped-row': j % 2}" class="example-detail-row" style="width:100% !important;"></tr>
                                                    <tr mat-footer-row *matFooterRowDef="keys"></tr>
                                                </table>
        
                                            </div>
                                        </div>
                                        <!--Master View Grid-->
                                        <!--&& (tempVehicleId== menu.VehicleId || tempVehicleId==menu.SectionId)-->
                                        
                                        <!--finish of clauses grid-->
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="col-12 col-xl-12 col-lg-12" *ngIf="showGrid" style="overflow: scroll !important;">
                            <div class="ClausesList" *ngIf="clauses && showGrid">
                                <div>
                                    <div>
    

                                        <div class="d-flex justify-content-between maan-grid-item-title">
                                            <p class="mx-1" st><span class="spancommon span_font_size">Clauses List
                                                    Details</span>
    
                                            </p>
                                            <button type="button" class="custom-btn btn-6 maan-button-data" (click)="editClauses(i)" *ngIf="button">
                                                Add Clauses
                                            </button>
                                        </div>
                                        <ng-container *ngIf="ClausesData">
    
                                            <app-grid-table [cols]="ClauseColumnHeader" [data]="ClausesData" [filterValue]="filterValue" *ngIf="userType=='Broker'">
                                            </app-grid-table>
    
                                            <table *ngIf="userType!='Broker'" class="styled-table">
    
                                                <thead>
                                                    <tr>
                                                        <th class="spancommon span_font_size">Select</th>
    
                                                        <th class="spancommon span_font_size">ClauseDescription</th>
                                                    </tr>
                                                </thead>
    
                                                <tbody *ngFor="let clause of ClausesData|paginate:{itemsPerPage: 10, currentPage:p,id: 'p'}; let i=index;">
                                                    <tr>
                                                        <td>
                                                            <input type="checkbox" (change)="onCheckUser(i,$event,clause)" [checked]="clause.TypeId == 'D' ? true : false"> 
                                                            <!-- <input type="checkbox"  *ngIf="clause.TypeId=='O'" (change)="onCheckUser(i,$event,clause)">  -->
                                                        </td>
    
                                                        <td>
                                                            <div class="input-control-container">
                                                                <div class="input-form-box">
                                                                    <textarea [(ngModel)]="clause.SubIdDesc" cols="120" rows="2"></textarea>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </ng-container>
                                    </div>
                                    <div class="d-flex justify-content-end" *ngIf="userType!='Broker'">
                                      <pagination-controls (pageChange)="p=$event"  id="p"></pagination-controls>
                                    </div>
                                    <div class="d-flex justify-content-center">
                                        <button class="custom-btn btn-5" (click)="OnClose()">Close</button>
                                        <button class="custom-btn btn-6 ml-2" *ngIf="userType!='Broker'" (click)="saveClausesData(ClausesData,'Clauses')">Submit</button>
                                    </div>
                                </div>
                            </div>
                            <!-- && (tempVehicleId== menu.VehicleId || tempVehicleId==menu.SectionId)"-->
                            <div class="ClausesList" *ngIf="Exclusion && showGrid">
                                <div>
                                    <div>
                                        <!--<div class="d-flex justify-content-between maan-grid-item-title">
                                            <span class="mx-1" style="position:absolute;top:3.5rem;font-size:1.2rem;font-family: var(--our-font-family-new)!important;">
                                                Exclusion List Details
                                            </span>
    
                                            <button type="button" class="btn btn-primary" *ngIf="button" (click)="editExclusion(i)">
                                                Add Exclusion
                                            </button>
                                        </div>-->
                                        <div class="d-flex justify-content-between maan-grid-item-title">
                                          <p class="mx-1" st><span class="spancommon span_font_size"> Exclusion List
                                                  Details</span>
    
                                          </p>
                                          <button type="button" class="btn btn-success" (click)="editExclusion(i)" *ngIf="button">
                                              Add Exclusion
                                          </button>
                                      </div>
                                        <ng-container *ngIf="ExclusionData">
    
                                            <app-grid-table [cols]="ExclusionsColumnHeader" [data]="ExclusionData" [filterValue]="filterValue" *ngIf="userType=='Broker'">
                                            </app-grid-table>
                                            <table *ngIf="userType!='Broker'" class="styled-table">
    
                                                <thead>
                                                    <tr>
                                                        <th>Select</th>
    
                                                        <th>ExclusionDescription</th>
                                                    </tr>
                                                </thead>
    
                                                <tbody *ngFor="let clause of ExclusionData|paginate:{itemsPerPage: 10, currentPage:s,id: 's'} ; let i=index;">
                                                    <tr>
                                                        <td><input type="checkbox" (change)="onUser(i,$event,clause)" [checked]="clause.TypeId == 'D' ? true : false"> </td>
    
                                                        <td>
                                                            <div class="input-control-container">
                                                                <div class="input-form-box">
                                                                    <textarea [(ngModel)]="clause.SubIdDesc" cols="120" rows="2"></textarea>
                                                                </div>
                                                            </div>
    
                                                        </td>
    
    
                                                    </tr>
                                                </tbody>
    
                                            </table>
                                        </ng-container>
                                    </div>
                                      <div class="d-flex justify-content-end" *ngIf="userType!='Broker'">
                                      <pagination-controls (pageChange)="s=$event" id="s"></pagination-controls>
                                    </div>
                                    <div class="d-flex justify-content-center">
                                        <button class="custom-btn btn-5" (click)="OnClose()">Close</button>
                                        <button class="custom-btn btn-6 ml-2" *ngIf="userType!='Broker'" (click)="saveClausesData(ExclusionData,'Exclusion')">Submit</button>
                                    </div>
                                </div>
                            </div>
                            <!--&& (tempVehicleId== menu.VehicleId || tempVehicleId==menu.SectionId)"-->
                            <div class="ClausesList" *ngIf="warranty && showGrid">
                                <div>
                                    <div>
                                        <!--<div class="d-flex justify-content-between">
                                            <span class="mx-1" style="position:absolute;top:3.5rem;font-size:1.2rem;font-family: var(--our-font-family-new)!important;">
                                                Warranty List Details
                                            </span>
                                            <button type="button" class="btn btn-primary" *ngIf="button" (click)="editWarranty(i)">
                                                Add Warranties
                                            </button>
                                        </div>-->
                                        <div class="d-flex justify-content-between maan-grid-item-title">
                                          <p class="mx-1" st><span class="spancommon span_font_size">Warranty List
                                                  Details</span>
    
                                          </p>
                                          <button type="button" class="btn btn-success" (click)="editWarranty(i)" *ngIf="button">
                                            Add Warranties
                                          </button>
                                      </div>
                                        <ng-container *ngIf="WarrantyData">
                                            <app-grid-table [cols]="WarrantiesColumnHeader" [data]="WarrantyData" [filterValue]="filterValue" *ngIf="userType=='Broker'">
                                            </app-grid-table>
                                            <table *ngIf="userType!='Broker'" class="styled-table">
                                                <thead>
                                                    <tr>
                                                        <th>Select</th>
    
                                                        <th>WarrantiesDescription</th>
                                                    </tr>
                                                </thead>
    
                                                <tbody *ngFor="let clause of WarrantyData|paginate:{itemsPerPage: 10, currentPage:pa, id:'pa'}; let i=index;">
                                                    <tr>
                                                        <td><input type="checkbox" (change)="onCheck(i,$event,clause)" [checked]="clause.TypeId == 'D' ? true : false"> </td>
    
                                                        <td>
                                                            <div class="input-control-container">
                                                                <div class="input-form-box">
                                                                    <textarea [(ngModel)]="clause.SubIdDesc" cols="120" rows="2"></textarea>
                                                                </div>
                                                            </div>
                                                        </td>
    
    
                                                    </tr>
                                                </tbody>
    
                                            </table>
                                        </ng-container>
                                    </div>
                                    <div class="d-flex justify-content-end" *ngIf="userType!='Broker'">
                                      <pagination-controls (pageChange)="pa=$event" id="pa"></pagination-controls>
                                    </div>
                                    <div class="d-flex justify-content-center">
                                        <button class="custom-btn btn-5 " (click)="OnClose()">Close</button>
                                        <button class="custom-btn btn-6 ml-2" *ngIf="userType!='Broker'" (click)="saveClausesData(WarrantyData,'Warranty')">Submit</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
        </div>
        <div class="maan-grid-item mt-2" *ngIf="!statusValue">
            <div class="maan-grid-item-body">
                <div class="row my-2">
                    <div class="col-12 col-md-6">
                        <div class="mb-3 mt-3">
                            <div class="input-control-container">
                                <label class="input-form-label">Do You Like to Move this Quote to Referral
                                    Manually?</label>
                                <div class="custom-radio-btn" style="position: relative;top: 1rem;right: 0.3rem;">
                                    <div class="radio-toolbar">
                                        <input id="referral_Yes" type="radio" [(ngModel)]="isMannualReferal" name="referral" value="Y">
                                        <label for="referral_Yes" class="yes">Yes</label>
                                        <input type="radio" id="referral_No" [(ngModel)]="isMannualReferal" name="referral" value="N">
                                        <label for="referral_No" class="no">No</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <ng-container *ngIf="isMannualReferal == 'Y'">
                        <div class="col-12 col-md-4">
                            <div class="mb-3 mt-3">
                                <div class="input-control-container">
                                    <label class="input-form-label">Remarks</label>
                                    <div class="input-form-box">
                                        <textarea class="input-form-control without-icon" [(ngModel)]="remarks" style="height: 45px;"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                    <!-- <div class="col-12 col-md-6" *ngIf="isMannualReferal != 'Y' && gridshow">
                        <div class="mb-3 mt-3">
                            <div class="input-control-container">
                                <label class="input-form-label">Do You Like to Choose EMI Option?</label>
                                <div class="custom-radio-btn" style="position: relative;top: 1rem;right: 0.3rem;">
                                    <div class="radio-toolbar">
                                        <input id="emi_Yes" type="radio" [(ngModel)]="emiYN" (change)="onEmiYNChange()" name="emiYN" value="Y">
                                        <label for="emi_Yes" class="yes">Yes</label>&nbsp;
                                        <input type="radio" id="emi_No" [(ngModel)]="emiYN" (change)="onEmiYNChange()" name="emiYN" value="N">
                                        <label for="emi_No" class="no">No</label>&nbsp;
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> -->
                </div>
                <!-- <div class="col-md-12 col-lg-12" *ngIf="emiSection && Emilist1.length!=0 && emiYN=='Y'">
                    <table class="firstclass" style="width:50%;">
                        <thead>
                            <tr class="firstclass">
                                <th scope="col" colspan="3"></th>
                                <th scope="col" colspan="4" style="text-align:center;" class="spancommon span_font_size">Installment Amount ({{localCurrency}})
                                </th>
                            </tr>
                            <tr class="firstclass">
                                <th scope="col" class="spancommon span_font_size" style="text-align:center;">EMI Month
                                </th>
                                <th scope="col" class="spancommon span_font_size" style="text-align:center;">
                                    Installment Type</th>
                                <th scope="col" class="spancommon span_font_size" style="text-align:center;">Due Date
                                </th>
                                <th scope="col" class="spancommon span_font_size" *ngIf="yearlySection" id="first" style="text-align:center">(12 Months)
                                </th>
                                <th scope="col" class="spancommon span_font_size" *ngIf="nineMonthSection" id="second" style="text-align:center">(9 Months)
                                </th>
                                <th scope="col" class="spancommon span_font_size" id="third" style="text-align:center" *ngIf="sixMonthSection">(6 Months)
                                </th>
                                <th scope="col" class="spancommon span_font_size" id="fourth" style="text-align:center" *ngIf="threeMonthSection">(3 Months)
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container>
                                <tr *ngFor="let list of Emilist1;let i=index" class="firstclass">
                                    <td class="spancommon span_font_size" style="text-align:center;">
                                        {{list.EmiMonth}}</td>
                                    <td class="spancommon span_font_size" style="text-align:center;">
                                        {{list.InstallmentDesc}}</td>
                                    <td class="spancommon span_font_size" style="text-align:center;">
                                        {{list.DueDate}}</td>
                                    <td class="spancommon span_font_size" *ngIf="yearlySection" id="first" style="text-align:center;">
                                        {{list.yearlyAmount | commaseparator}}</td>
                                    <td class="spancommon span_font_size" *ngIf="nineMonthSection" id="second" style="text-align:center;">
                                        {{list.nineAmount|commaseparator}}</td>
                                    <td class="spancommon span_font_size" *ngIf="sixMonthSection" id="third" style="text-align:center;">
                                        {{list.sixAmount | commaseparator}}</td>
                                    <td class="spancommon span_font_size" *ngIf="threeMonthSection" style="text-align:center;" id="fourth">
                                        {{list.threeAmount | commaseparator}}</td>
                                </tr>
                            </ng-container>
                        </tbody>
    
                    </table>
    
                </div>
                <div class="col-12 col-md-6" *ngIf="isMannualReferal != 'Y' && emiYN=='Y'">
                    <div class="mb-3 mt-3">
                        <div class="input-control-container">
                            <label class="input-form-label spancommon span_font_size">EMI Period</label>
                            <div class="custom-radio-btn">
                                <div class="radio-toolbar" style="position: relative;top: 0.5rem;">
                                    <input id="emi_None" type="radio" [(ngModel)]="emiPeriod" name="emiPeriod" (change)="onEMIChange()" value="N">
                                    <label for="emi_None" class="spancommon span_font_size yes">None</label>&nbsp;
                                    <ng-container *ngIf="yearlySection || nineMonthSection || sixMonthSection || threeMonthSection">
                                        <input type="radio" id="emi_three" [(ngModel)]="emiPeriod" name="emiPeriod" (change)="onEMIChange()" value="3">
                                        <label for="emi_three" class="spancommon span_font_size yes">3
                                            Months</label>&nbsp;
                                    </ng-container>
                                    <ng-container *ngIf="yearlySection || nineMonthSection || sixMonthSection">
                                        <input type="radio" id="emi_six" [(ngModel)]="emiPeriod" name="emiPeriod" (change)="onEMIChange()" value="6">
                                        <label for="emi_six" class="spancommon span_font_size yes">6
                                            Months</label>&nbsp;
                                    </ng-container>
                                    <ng-container *ngIf="yearlySection || nineMonthSection">
                                        <input type="radio" id="emi_nine" [(ngModel)]="emiPeriod" name="emiPeriod" (change)="onEMIChange()" value="9">
                                        <label for="emi_nine" class="spancommon span_font_size yes">9
                                            Months</label>&nbsp;
                                    </ng-container>
                                    <ng-container *ngIf="yearlySection">
                                        <input type="radio" id="emi_twelve" [(ngModel)]="emiPeriod" name="emiPeriod" (change)="onEMIChange()" value="9">
                                        <label for="emi_twelve" class="spancommon span_font_size yes">12
                                            Months</label>&nbsp;
                                    </ng-container>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->
                
            </div>
        </div>
        <div class="maan-grid-item mt-4" *ngIf="statusValue && adminSection">
            <div class="col-12 col-md-4 ml-4">
                <div class="input-control-container">
                    <label class="input-form-label">Referral Status</label><span class="text-danger">*</span>
                    <ng-select class="input-form-select" appendTo="body" [disabled]="!adminSection" [(ngModel)]="statusValue" [items]="statusList" bindValue="Code" bindLabel="CodeDesc">
                    </ng-select>
                </div>
            </div>
    
            <div class="col-12 col-md-6">
                <div class="input-control-container">
                    <label class="input-form-label">Remarks<span class="text-required">*</span></label>
                    <div class="input-form-box">
                        <textarea cols="120" rows="2" [(ngModel)]="remarks" [disabled]="!adminSection" class="input-form-control without-icon" maxlength="600"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-4 ml-4" *ngIf="statusValue=='RR'">
                <div class="input-control-container">
                    <label class="input-form-label">Rejected Reason</label>
                    <div class="input-form-box">
                        <input type="text" [(ngModel)]="rejectedReason" [disabled]="!adminSection" class="input-form-control without-icon">
                    </div>
                </div>
            </div>
        </div>

        <div class="row botomdisplay">
            <div class="row">

                <div class="col-12 col-lg-7 col-xl-7 col-md-7">
                    <div class="text-center my-3" style="margin-right: 25px;">
                        <button class="custom-btn btn-5 mx-2" matRipple (click)="ongetBack()"><<&nbsp;Back</button>
                        <button class="custom-btn btn-6 maan-button-data mx-2" matRipple *ngIf="!adminSection && statusValue == 'RA'" (click)="onFormSubmit()">Proceed</button>
                        <button class="custom-btn btn-6 maan-button-data  mx-2" matRipple *ngIf="adminSection" (click)="onUpdateFactor('calculate')">Calculate</button>
                        <button class="custom-btn btn-6 maan-button-data mx-2" matRipple *ngIf="!adminSection && statusValue != 'RA'" (click)="onFormSubmit()">Buy Policy</button>
                        <button class="custom-btn btn-6 maan-button-data mx-2" matRipple *ngIf="adminSection" (click)="onUpdateFactor('')">Proceed</button>
                    </div>
                </div>
            </div>
        </div>
</div>

    <ng-template #Add>
        <div class="card">
            <table>
                <thead>
                    <td>Select</td>
                    <td>Description</td>
                    <td>SubId</td>
                </thead>
                <tbody>
                    <td><input type="checkbox"> </td>
                    <td><textarea>Clauses Details</textarea></td>
                    <td>1</td>
                </tbody>

            </table>
        </div>
    </ng-template>

    <ng-template #mymodal let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title"><span class="spancommon span_font_size">Vehicle
                    Details</span></h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="maan-grid-item popover-card customTemplatess shawdowcustom">

                <div class="maan-grid-item-title">
                    <div class="d-flex justify-content-between">
                        <div>
                            <span class="mx-1">
                                <i class="fa fa-user mx-1"></i>
                            </span>
                            <span class="spancommon span_font_size" style="font-weight:600">Customer Details</span>
                        </div>
                        <div>
                            <ng-container>
                                <!-- RefNo - {{customerDetails?.CustomerReferenceNo}} -->
                            </ng-container>
                        </div>
                    </div>
                </div>
                <div class="maan-grid-item-body">
                    <div class="row mt-1  ml-1">
                        <div class="col-12 col-md-3 ">
                            <div class="input-control-container">
                                <label class="input-form-label"><span class="spancommon span_font_size">Customer
                                        Name</span></label>
                                <div class="input-form-radio-box">
                                    <span class="spancommon span_font_size">{{title}}&nbsp;{{clientName}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-3">
                            <div class="input-control-container">
                                <label class="input-form-label"><span class="spancommon span_font_size">Customer
                                        ID</span></label>
                                <div class="input-form-radio-box">
                                    <span class="spancommon span_font_size">{{idNumber}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-3">
                            <div class="input-control-container">
                                <label class="input-form-label"><span class="spancommon span_font_size">Customer
                                        Type</span>
                                </label>
                                <div class="input-form-radio-box">
                                    <span class="spancommon span_font_size">{{clientType}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-3">
                            <div class="input-control-container">
                                <label class="input-form-label">
                                    <span class="spancommon span_font_size">Mobile Number</span>
                                </label>
                                <div class="input-form-radio-box">
                                    <span class="spancommon span_font_size">{{mobileNo}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="maan-grid-item">
                    <div class="maan-grid-item-title">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span class="mx-1">
                                    <i class="fas fa-car mx-1"></i>
                                </span><span class="spancommon span_font_size" style="font-weight:600">Motor
                                    Details</span>
                            </div>
                            <div>
                            </div>
                        </div>

                    </div>
                    <div class="maan-grid-item-body">
                        <ul class="list-group">
                            <li class="customList">
                                <div class="row mt-1  ml-1">
                                    <div class="col-12 col-md-3 ">
                                        <div class="input-control-container">
                                            <label class="input-form-label"><span
                                                    class="spancommon span_font_size">Make</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">{{motorDetails?.Vehiclemake}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3">
                                        <div class="input-control-container">
                                            <label class="input-form-label"><span
                                                    class="spancommon span_font_size">Model</span></label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">
                                                    {{motorDetails?.Vehcilemodel}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Body Type</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">{{motorDetails?.VehicleType}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Vehicle Usage</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">
                                                    {{motorDetails?.Motorusage}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="customList">
                                <div class="row mt-1  ml-1">
                                    <div class="col-12 col-md-3 ">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Registration No</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">{{motorDetails?.Registrationnumber}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Engine No</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">{{motorDetails?.EngineNumber}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Engine Capacity</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">{{motorDetails?.ResEngineCapacity}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Manufacture Year</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">{{motorDetails?.ManufactureYear}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="customList">
                                <div class="row mt-1  ml-1">
                                    <div class="col-12 col-md-3 ">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Owner category</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">{{motorDetails?.OwnerCategory}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Motor Category</span>
                                            </label>
                                            <div class="input-form-radio-box"><span class="spancommon span_font_size">{{motorDetails?.ReqMotorCategory}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Seating Capacity</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">
                                                    {{motorDetails?.SeatingCapacity}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-3">
                                        <div class="input-control-container">
                                            <label class="input-form-label">
                                                <span class="spancommon span_font_size">Tare Weight</span>
                                            </label>
                                            <div class="input-form-radio-box">
                                                <span class="spancommon span_font_size">{{motorDetails?.Tareweight}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer" style="box-shadow: inset 0px 0px 0px #b8b9be,inset -3px 0px 0px #FFE!important;">
            <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Ok</button>
        </div>
    </ng-template>
    <ng-template #mymodalEdit let-modal>
        <div class="modal-header">
            <h4 class="modal-title spancommon span_font_size" id="modal-basic-title">Vehicle Details</h4>
            <button type="button" class="close" #closeModal aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="maan-grid-item popover-card customTemplatess shawdowcustom" style="display: block;" data-keyboard="false" data-bs-backdrop="static">
                <!--<ng-container *ngIf="vehicleDetailsList.length!=0">-->
                <div class="maan-grid-item-title">
                    <div class="d-flex justify-content-between">
                        <div>
                            <span class="mx-1 spancommon span_font_size" style="font-weight:600"><i
                                    class="fas fa-book mx-1"></i>Policy Details</span>
                        </div>
                        <div>

                        </div>
                    </div>

                </div>
                <div class="maan-grid-item-body">
                    <div class="row ml-1">
                        <div class="col-12 col-md-6">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">Insurance
                                    Type</label><span class="text-danger">*</span>
                                <ng-select class="input-form-select" appendTo="body" [items]="typeList" [(ngModel)]="typeValue" bindValue="Code" bindLabel="CodeDesc">
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">Insurance
                                    Class</label><span class="text-danger">*</span>
                                <ng-select class="input-form-select" disabled appendTo="body" [items]="classList" [(ngModel)]="classValue" bindValue="Code" bindLabel="CodeDesc">
                                </ng-select>
                            </div>
                        </div>
                    </div>
                    <div class="row  ml-1">
                        <div class="col-12 col-md-4">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">Body Type</label><span class="text-danger">*</span>
                                <ng-select class="input-form-select" disabled appendTo="body" [items]="motorTypeList" [(ngModel)]="bodyTypeValue" (change)="onChangeBodyType()" bindValue="Code" bindLabel="CodeDesc">
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-12 col-md-4">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">Motor Usage</label><span class="text-danger">*</span>
                                <ng-select class="input-form-select" disabled appendTo="body" [items]="motorUsageList" [(ngModel)]="motorUsageValue" bindValue="Code" bindLabel="CodeDesc">
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-12 col-md-3 col-lg-3 mt-2">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">Claims YN?</label>
                                <div class="input-form-radio-box">
                                    <div class="radio-toolbar">
                                        <input id="claims_Yes" type="radio" name="claimsYN" [(ngModel)]="claimsYN" value="Y">
                                        <label for="claims_Yes" class="yes spancommon span_font_size">Yes</label>
                                        <input id="claims_No" type="radio" name="claimsYN" [(ngModel)]="claimsYN" value="N">
                                        <label for="claims_No" class="no spancommon span_font_size">No</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-4 col-lg-4 mt-2" *ngIf="typeValue=='10'">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">GPS Tracking
                                    Enabled?</label>
                                <div class="input-form-radio-box">
                                    <div class="radio-toolbar">
                                        <input id="orginwarehouse_Yes" type="radio" name="gpsTracking" [(ngModel)]="gpsYn" value="Y">
                                        <label for="orginwarehouse_Yes" class="yes spancommon span_font_size">Yes</label>
                                        <input id="orginwarehouse_No" type="radio" name="gpsTracking" [(ngModel)]="gpsYn" value="N">
                                        <label for="orginwarehouse_No" class="no spancommon span_font_size">No</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row  ml-1">
                        <div class="col-12 col-md-4" *ngIf="classValue=='1' || classValue=='2'">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">Vehicle Sum Insured
                                    ({{currencyCode}}) &nbsp;<span class="text-danger">*</span></label>
                                <div class="input-form-box">
                                    <input type="text" digitOnly [(ngModel)]="vehicleSI" autocomplete="off" (keydown)="onVehicleValueChange($event)" (keyup)="CommaFormatted()" class="input-form-control without-icon">
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-4" *ngIf="classValue=='1' || classValue=='2'">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">Accessories Sum Insured
                                    ({{currencyCode}})</label>
                                <div class="input-form-box">
                                    <input type="text" digitOnly [(ngModel)]="accessoriesSI" autocomplete="off" (keydown)="onVehicleValueChange($event)" (keyup)="accessoriesCommaFormatted()" class="input-form-control without-icon">
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-4" *ngIf="classValue=='1' || classValue=='2'">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">WindShield Sum Insured
                                    ({{currencyCode}})</label>
                                <div class="input-form-box">
                                    <input type="text" digitOnly [(ngModel)]="windShieldSI" autocomplete="off" (keydown)="onVehicleValueChange($event)" (keyup)="WindSICommaFormatted()" class="input-form-control without-icon">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row  ml-1">
                        <div class="col-12 col-md-4" *ngIf="classValue=='1' || classValue=='2'">
                            <div class="input-control-container">
                                <label class="input-form-label spancommon span_font_size">Extended TPPD Sum Insured
                                    ({{currencyCode}})</label>
                                <div class="input-form-box">
                                    <input type="text" digitOnly [(ngModel)]="tppdSI" autocomplete="off" (keydown)="onVehicleValueChange($event)" (keyup)="TppdCommaFormatted()" class="input-form-control without-icon">
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-4 col-lg-4" *ngIf="productId!='4'">
                            <label class="input-form-label spancommon span_font_size">Policy Start Date</label>
                            <mat-form-field appearance="fill">
                                <!-- <mat-label>Policy Start Date<span class="text-danger">*</span></mat-label> -->
                                <input matInput [matDatepicker]="picker" [min]="minDate" [max]="maxDate" (dateChange)="onStartDateChange()" [(ngModel)]="policyStartDate">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-12 col-md-4 col-lg-4" *ngIf="productId!='4'">
                            <label class="input-form-label spancommon span_font_size">Policy End Date</label>
                            <mat-form-field appearance="fill">
                                <!-- <mat-label class="spancommon span_font_size">Policy End Date<span class="text-danger">*</span></mat-label> -->
                                <input matInput [matDatepicker]="picker2" [min]="endMinDate" (dateChange)="onChangeEndDate()" [(ngModel)]="policyEndDate">
                                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                <mat-datepicker #picker2></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="maan-btn maan-btn-red maan-button-data col-lg-2" (click)="submitForm(menu,modal)"><span class="spancommon span_font_size" style="position:relative;left:1.5rem;top:0.2rem">Submit</span>
            </div>
            <button class="custom-btn btn-5 col-lg-2 spancommon span_font_size" (click)="modal.dismiss('Cross click')" style="margin-left:10px;">Close</button>
        </div>
    </ng-template>
            
            <!-- <div class="col-12 col-md-6 col-lg-6 col-xl-6" style="left: 0.4rem;">
                <ng-container *ngIf="statusValue">
                    <div class="maan-grid-item-title">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span class="mx-1">
                                    <i class="fas fa-user mx-1"></i>

                                </span>
                                <span class="spancommon"></span>
                            </div>
                        </div>
                    </div>
                    <div class="w3-animate-top referal-status referal-data">
                        <ul class="list-group mt-2">
                            <li class="list-item-value">
                                <div><span class="spancommon span_font_size" style="font-weight:600">Referral
                                        Status</span></div>
                                <div>
                                    <ng-container *ngIf="statusValue=='RP'"><span class="text-danger spancommon span_font_size">Referral
                                            Pending</span></ng-container>
                                    <ng-container *ngIf="statusValue=='RA'"><span class="text-success spancommon span_font_size">Referral
                                            Accepted</span></ng-container>
                                    <ng-container *ngIf="statusValue=='RR'"> <span class="text-danger spancommon span_font_size">Referral
                                            Rejected</span></ng-container>
                                    <ng-container *ngIf="statusValue=='RE'"> <span class="text-danger spancommon span_font_size">Referral
                                        ReQuote</span></ng-container>
                                </div>
                            </li>
                            <li class="list-item-value" *ngIf="adminRemarks.length!=0">
                                <div><span class="spancommon span_font_size" style="font-weight:600">Admin
                                        Remarks</span></div>
                                <div>
                                    <ul *ngFor="let entry of adminRemarks" style="list-style-type: none;">
                                        <li class="p-0"><span class="spancommon span_font_size">{{entry}}</span>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                </ng-container>

            </div> -->
            <!-- <div class="col-12 col-md-6 col-lg-6 col-xl-6" style="position: relative;right: 0.3rem;">
                <div class="maan-grid-item-title">
                    <div class="d-flex justify-content-between">
                        <div>
                            <span class="mx-1">
                                <i class="fas fa-book mx-1"></i>
                            </span>
                            <span class="spancommon">Quote Information</span>
                        </div>
                        <div>
                            <div (click)="custPanelOpen = !custPanelOpen;" *ngIf="!custPanelOpen">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div (click)="custPanelOpen = !custPanelOpen;" *ngIf="custPanelOpen">
                                <i class="fas fa-chevron-up"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w3-animate-top  referal-status">
                    <ul class="list-group mt-2">
                        <li class=" list-item-value">

                            <div>
                                <ng-container *ngIf="productId=='5'"><span class="spancommon span_font_size">No.Of.Vehicle</span></ng-container>
                                <ng-container *ngIf="productId=='4'"><span class="spancommon span_font_size">No.Of.Passengers</span></ng-container>
                                <ng-container *ngIf="productId=='3'"><span class="spancommon span_font_size">No.Of.Location</span></ng-container>
                            </div>
                            <div><span class="spancommon span_font_size">{{vehicleDetailsList.length}}</span></div>

                        </li>
                        <li class=" list-item-value">
                            <div><b><span class="spancommon span_font_size">Total Premium</span></b></div>
                            <div><b><span class="spancommon span_font_size">{{totalPremium | number :
                                        '1.2-2'}}&nbsp;({{currencyCode}})</span></b></div>
                        </li>
                        <li class="list-item-value" *ngIf="custPanelOpen">

                            <div><span class="spancommon">Customer Name</span></div>
                            <div><span class="spancommon">{{clientName}}</span>
                            </div>

                        </li>
                        <li class="list-item-value" *ngIf="custPanelOpen">

                            <div><span class="spancommon">Customer Type</span></div>
                            <div><span class="spancommon">{{clientType}}</span></div>

                        </li>
                        <li class="list-item-value" *ngIf="custPanelOpen">

                            <div><span class="spancommon">Mobile No</span></div>
                            <div><span class="spancommon">{{mobileNo}}</span></div>

                        </li>
                        <li class="list-item-value" *ngIf="promoCode && custPanelOpen">
                            <div><span class="spancommon">Promo Code</span></div>
                            <div><span class="spancommon">{{promoCode}}</span></div>
                        </li>

                    </ul>
                </div>
            </div> -->
    
    <div class="col-3 col-md-3 col-lg-3 col-xl-3 offset-9 display1 dialogContainer">
        <div class="accordion" id="accordionPanelsStayOpenExample" style="width: 27rem;float: right; margin-right: 10px;">
            <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingOne" style="height: 25px;">
                    <span style="position: relative;font-size: 1.2rem;left: 1rem;font-family: var(--our-font-family-new) !important;font-weight: 600;">Premium Details</span>
                </h2>
                <div (click)="custPanelOpen = !custPanelOpen;" *ngIf="!custPanelOpen">
                    <i class="fas fa-chevron-down" style="position: relative;left: 24rem;bottom: 0.7rem;font-size: 1rem;cursor: pointer;"></i>
                </div>
                <div (click)="custPanelOpen = !custPanelOpen;" *ngIf="custPanelOpen">
                    <i class="fas fa-chevron-up" style="position: relative;left: 24rem;bottom: 0.7rem; font-size: 1rem;cursor: pointer;"></i>
                </div>
                <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne" *ngIf="!custPanelOpen">
                    <div class="accordion-body w3-animate-top  referal-status">
                        <ul class="list-group mt-2">
                            <li class="list-item-value" *ngIf="customerDetails">
                                <div><span class="spancommon">Customer Name</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{clientName}}</span>
                                </div>
                            </li>
                            <li class="list-item-value" *ngIf="customerDetails">
                                <div><span class="spancommon">Customer Type</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{clientType}}</span></div>
                            </li>
                            <li class="list-item-value" *ngIf="customerDetails">
                                <div><span class="spancommon">Mobile No</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{mobileNo}}</span>
                                </div>
                            </li>
                            <li class="list-item-value">
                                <div><span class="spancommon">Promo Code</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{promoCode}}</span>
                                </div>
                            </li>
                            <li class=" list-item-value">
                                <div><b><span class="spancommon span_font_size">Total Premium</span></b></div>
                                <div><b><span class="spancommon span_font_size" style="color: #0056b3!important;">{{totalPremium | number :
                                            '1.2-2'}}&nbsp;({{currencyCode}})</span></b></div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="accordion" id="accordionExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        Accordion Item #1
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show w3-animate-top  referal-status" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <ul class="list-group mt-2">
                            <li class="list-item-value">
                                <div><span class="spancommon">Customer Name</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{clientName}}</span>
                                </div>
                            </li>
                            <li class="list-item-value">
                                <div><span class="spancommon">Customer Type</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{clientType}}</span></div>
                            </li>
                            <li class="list-item-value">
                                <div><span class="spancommon">Mobile No</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{mobileNo}}</span>
                                </div>
                            </li>
                            <li class="list-item-value">
                                <div><span class="spancommon">Promo Code</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{promoCode}}</span>
                                </div>
                            </li>
                            <li class=" list-item-value">
                                <div><b><span class="spancommon span_font_size">Total Premium</span></b></div>
                                <div><b><span class="spancommon span_font_size" style="color: #0056b3!important;">{{totalPremium | number :
                                            '1.2-2'}}&nbsp;({{currencyCode}})</span></b></div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div> -->

    </div>
    <div class="col-3 col-md-3 col-lg-3 col-xl-3 offset-9 display2 dialogContainer">
        <div class="accordion" id="accordionPanelsStayOpenExample" style="width: 300px;float: right; margin-right: 10px;">
            <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingOne" style="height: 25px;">
                    <span style="position: relative;font-size: 1.2rem;left: 1rem;font-family: var(--our-font-family-new) !important;font-weight: 600;">Premium Details</span>
                </h2>
                <div (click)="custPanelOpen = !custPanelOpen;" *ngIf="!custPanelOpen">
                    <i class="fas fa-chevron-down" style="position: relative;left: 260px;bottom: 0.7rem;font-size: 1rem;cursor: pointer;"></i>
                </div>
                <div (click)="custPanelOpen = !custPanelOpen;" *ngIf="custPanelOpen">
                    <i class="fas fa-chevron-up" style="position: relative;left: 260px;bottom: 0.7rem; font-size: 1rem;cursor: pointer;"></i>
                </div>
                <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne" *ngIf="!custPanelOpen">
                    <div class="accordion-body w3-animate-top  referal-status">
                        <ul class="list-group mt-2">
                            <li class="list-item-value" *ngIf="customerDetails">
                                <div><span class="spancommon">Customer Name</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{clientName}}</span>
                                </div>
                            </li>
                            <li class="list-item-value" *ngIf="customerDetails">
                                <div><span class="spancommon">Customer Type</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{clientType}}</span></div>
                            </li>
                            <li class="list-item-value" *ngIf="customerDetails">
                                <div><span class="spancommon">Mobile No</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{mobileNo}}</span>
                                </div>
                            </li>
                            <li class="list-item-value">
                                <div><span class="spancommon">Promo Code</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{promoCode}}</span>
                                </div>
                            </li>
                            <li class=" list-item-value">
                                <div><b><span class="spancommon span_font_size">Total Premium</span></b></div>
                                <div><b><span class="spancommon span_font_size" style="color: #0056b3!important;">{{totalPremium | number :
                                            '1.2-2'}}&nbsp;({{currencyCode}})</span></b></div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="accordion" id="accordionExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        Accordion Item #1
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show w3-animate-top  referal-status" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <ul class="list-group mt-2">
                            <li class="list-item-value">
                                <div><span class="spancommon">Customer Name</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{clientName}}</span>
                                </div>
                            </li>
                            <li class="list-item-value">
                                <div><span class="spancommon">Customer Type</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{clientType}}</span></div>
                            </li>
                            <li class="list-item-value">
                                <div><span class="spancommon">Mobile No</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{mobileNo}}</span>
                                </div>
                            </li>
                            <li class="list-item-value">
                                <div><span class="spancommon">Promo Code</span></div>
                                <div><span class="spancommon" style="color: #0056b3!important;">{{promoCode}}</span>
                                </div>
                            </li>
                            <li class=" list-item-value">
                                <div><b><span class="spancommon span_font_size">Total Premium</span></b></div>
                                <div><b><span class="spancommon span_font_size" style="color: #0056b3!important;">{{totalPremium | number :
                                            '1.2-2'}}&nbsp;({{currencyCode}})</span></b></div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div> -->

    </div>
    <ng-template #myView let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title"><span class="spancommon span_font_size">Cover
                    Details</span></h4>
                    <h4 class="modal-title text-right" id="modal-basic-title"><span class="spancommon span_font_size">
                        CoverName:{{CoverName}}
                    </span></h4>
                   
                    
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="modal-body">
            <app-grid-table [cols]="CoverHeader" [data]="CoverList">
            </app-grid-table>
        </div>

    </ng-template>
    <div id="toast" class="toastDisplay errorToast" style="display:none;color:#ffffff">
        <img (click)="sharedService.fnOnToastCloseClick()" align="right" src="./assets/img/close_white.png" alt="Warning" style="vertical-align:baseline; text-align:right;cursor:pointer;">
        <div class="paragraphFontSize" id="toastSpan" style="color:#ffffff!important;text-align: center;">
            <img src="./assets/img/error.png" alt="Warning" style="margin-left: 10px;float: left;">
            <span [innerHtml]="sharedService.errorApiMsg"></span>
            <!-- Error: -->
        </div>
    </div>

    <div id="successToast" class="toastDisplaySuccess errorToast successToastMsg" style="display:none;color:#ffffff">
        <img (click)="sharedService.fnOnSuccessToastCloseClick()" align="right" src="./assets/img/close_white.png" alt="Warning" style="vertical-align:baseline; text-align:right;cursor:pointer;">
        <div class="paragraphFontSize" id="toastSpan" style="color:#ffffff!important;text-align: center;">
            <img src="./assets/img/checkbox/white_tick_only.png" style="margin-left: 10px;float: left;">
            <span [innerHtml]="sharedService.successApiMsg"></span>
        </div>
    </div>



        <!--<ng-template #exampleModal let-modal>
            <div class="modal-lg">

                <div class="modal-header">
                    <h5 class="modal-title">Add Clauses</h5>
                    <button type="button" class="close" #closeModal aria-label="Close" (click)="modal.dismiss('Cross click')">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <button class="btn btn-primary" style="float:right;margin-bottom:13px;" (click)="addItem()">Add
                        New</button>
                    <table class="mt-3 styled-table">
                        <thead>
                            <th>Select</th>

                            <th>Clauses Description</th>
                            <th>Delete</th>
                        </thead>
                        <tbody>
                            <tr *ngFor="let row of jsonList;let i = index">
                                <td><input type="checkbox" style="width:20px;height:20px;"></td>
                                <td>
                                    <div class="input-form-box">

                                        <textarea style="height:20px;" [(ngModel)]="row.SubIdDesc" cols="60" rows="2"> </textarea>
                                    </div>
                                </td>
                                <td class="tbl-content">
                                    <button class="btn btn-primary" (click)="deleteClauses(row)"> <i
                                            class="fa fa-trash"></i></button>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="custom-btn btn-5" data-dismiss="modal" (click)="modal.dismiss('Cross click')">Close</button>
                    <button type="button" class="btn btn-primary" (click)="saveChanges(vehicleDetailsList,row)">Save
                        changes</button>
                </div>

            </div>
        </ng-template>-->

       <!--<ng-template #ExclusionModal let-modal>
            <div class="modal-lg ">

                <div class="modal-header">
                    <h5 class="modal-title">Add Exclusion</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                    <button type="button" class="close" #closeModal aria-label="Close" (click)="modal.dismiss('Cross click')">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <button class="btn btn-primary" style="float:right" (click)="addExclusion(row)">Add New</button>
                    <table class="mt-3">
                        <thead class="mt-3">
                            <th>Select</th>
                            <th>Exclusion Description</th>
                            <th>Delete</th>
                        </thead>
                        <tbody>
                            <tr *ngFor="let row of ExclusionList;let i = index" class="mt-3">
                                <td><input type="checkbox" style="width:20px;height:20px;"></td>
                                <td><textarea style="height:20px;" [(ngModel)]="row.SubIdDesc" cols="60" rows="2"> </textarea></td>
                                <td style="height:20px;">
                                    <button class="btn btn-primary" (click)="deleteExclusion(row)"> <i
                                            class="fa fa-trash"></i></button>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="custom-btn btn-5" data-dismiss="modal" (click)="modal.dismiss('Cross click')">Close</button>
                    <button type="button" class="btn btn-primary" (click)="saveExclusion(vehicleDetailsList,row)">Save
                        changes</button>
                </div>

            </div>
        </ng-template>-->


        <!--<ng-template #WarrantyModel let-modal>
            <div class="modal-lg" id="WarrantyModel">

                <div class="modal-header">
                    <h5 class="modal-title" id="modal-basic-title">Add Warranty</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                    <<button type="button" class="close" #closeModal aria-label="Close" (click)="modal.dismiss('Cross click')">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <button class="btn btn-primary" style="float:right" (click)="addwarranty(row)">Add New</button>
                    <table class="mt-3 maan-grid-item-body">
                        <thead>
                            <th>Select</th>
                            <th>Warrranty Description</th>
                            <th>Delete</th>
                        </thead>
                        <tbody>
                            <tr *ngFor="let row of json;let i = index">
                                <td><input type="checkbox" style="width:20px;height:20px;"></td>
                                <td><textarea style="height:20px;" [(ngModel)]="row.SubIdDesc" cols="60" rows="2"> </textarea></td>
                                <td class="tbl-content">
                                    <button class="btn btn-primary" (click)="delete(row)"> <i
                                            class="fa fa-trash"></i></button>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="custom-btn btn-5 " data-dismiss="modal" (click)="modal.dismiss('Cross click')">Close</button>
                    <button type="button" class="btn btn-primary" (click)="saveWarranty(vehicleDetailsList,row)">Save
                        changes</button>
                </div>

            </div>
        </ng-template>-->
        <!--Toast messages-->
        

        <!-- <div class="dialogContainer bottom left">
            <div class="dialog" data-dialog-id="dm-accept-cookies" data-set-cookie="365">
              <div class="dialogContent">
                <div>
                    <span class="mx-1">
                        <i class="fas fa-book mx-1"></i>
                    </span>
                    <span class="spancommon">Quote Information</span>
                </div>
                <ul class="flex tinySpaces">
                  <li class="col-6-12 tablet-col-1-2">
                    <div class="button small passive hover-red wide cropSides" data-dialog-action="hide">I disagree</div>
                  </li>
                  <li class="col-6-12 tablet-col-1-2">
                    <div class="button small passive hover-green wide cropSides" data-dialog-action="close">I agree</div>
                  </li>
                </ul>
              </div>
            </div>
          </div> -->

        


    